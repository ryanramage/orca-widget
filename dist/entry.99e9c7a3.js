parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"2aeJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={A:"A0",a:"a0",B:"B0",C:"C0",c:"c0",D:"D0",d:"d0",E:"E0",F:"F0",f:"f0",G:"G0",g:"g0",H:"A0",h:"a0",I:"B0",J:"C1",j:"c1",K:"D1",k:"d1",L:"E1",M:"F1",m:"f1",N:"G1",n:"g1",O:"A1",o:"a1",P:"B1",Q:"C2",q:"c2",R:"D2",r:"d2",S:"E2",T:"F2",t:"f2",U:"G2",u:"g2",V:"A2",v:"a2",W:"B2",X:"C3",x:"c3",Y:"D3",y:"d3",Z:"E3",e:"F0",l:"F1",s:"F2",z:"F3",b:"C1",i:"C1",p:"C2",w:"C3"};exports.default=e;
},{}],"sD1y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=i(require("./transpose.js"));function i(t){return t&&t.__esModule?t:{default:t}}function s(i,s,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",h=arguments.length>4&&void 0!==arguments[4]&&arguments[4];function o(t,i,s){return t<i?i:t>s?s:t}this.name="unknown",this.x=s,this.y=r,this.passive=h,this.draw=h,this.glyph=h?e.toUpperCase():e,this.info="--",this.ports={bang:!h},this.listen=function(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return s?0:".";var r=i.glyphAt(this.x+t.x,this.y+t.y),e="."!==r&&"*"!==r||!t.default?r:t.default;if(s){var h=t.clamp&&t.clamp.min?t.clamp.min:0,n=t.clamp&&t.clamp.max?t.clamp.max:36;return o(i.valueOf(e),h,n)}return e},this.output=function(t){this.ports.output?t&&i.write(this.x+this.ports.output.x,this.y+this.ports.output.y,!0===this.requireUC()?"".concat(t).toUpperCase():t):console.warn(this.name,"Trying to output, but no port")},this.bang=function(t){this.ports.output?i.write(this.x+this.ports.output.x,this.y+this.ports.output.y,!0===t?"*":"."):console.warn(this.name,"Trying to bang, but no port")},this.run=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var s in this.ports)i.lock(this.x+this.ports[s].x,this.y+this.ports[s].y);this.draw=!0;var r=this.operation(t);this.ports.output&&(!0===this.ports.output.bang?this.bang(r):this.output(r))},this.operation=function(){},this.lock=function(){i.lock(this.x,this.y)},this.replace=function(t){i.write(this.x,this.y,t)},this.erase=function(){this.replace(".")},this.explode=function(){this.replace("*")},this.move=function(t,s){var r={x:this.x+t,y:this.y+s};if(i.inBounds(r.x,r.y)){var e=i.glyphAt(r.x,r.y);"*"===e||"."===e?(this.erase(),this.x+=t,this.y+=s,this.replace(this.glyph),this.lock()):this.explode()}else this.explode()},this.hasNeighbor=function(t){return i.glyphAt(this.x+1,this.y)===t||(i.glyphAt(this.x-1,this.y)===t||(i.glyphAt(this.x,this.y+1)===t||i.glyphAt(this.x,this.y-1)===t))},this.getPorts=function(){var t=[];if(!0===this.draw&&t.push([this.x,this.y,0,"".concat(this.name.charAt(0).toUpperCase()+this.name.substring(1).toLowerCase())]),!this.passive)return t;for(var i in this.ports){var s=this.ports[i];t.push([this.x+s.x,this.y+s.y,s.x<0||s.y<0?1:2,"".concat(this.glyph,"-").concat(i)])}if(this.ports.output){var r=this.ports.output;t.push([this.x+r.x,this.y+r.y,r.reader||r.bang?8:3,"".concat(this.glyph,"-output")])}return t},this.requireUC=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.ports;if(!0!==this.ports.output.sensitive)return!1;for(var i in t){var s=this.listen(t[i]);if(1===s.length&&(s.toLowerCase()!==s.toUpperCase()&&"".concat(s).toUpperCase()==="".concat(s)))return!0}return!1},this.transpose=function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!t.default[i])return{note:i,octave:s};var r=t.default[i].charAt(0),e=o(parseInt(t.default[i].charAt(1))+s,0,8),h=["C","c","D","d","E","F","f","G","g","A","a","B"].indexOf(r),n=o(12*e+h,0,127);return{id:n,value:h,note:r,octave:e,real:n<89?Object.keys(t.default)[n-45]:null}}}
},{"./transpose.js":"2aeJ"}],"MNML":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("../operator.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u,n,r){e.default.call(this,t,u,n,".",!1),this.name="null",this.info="empty",this.run=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}
},{"../operator.js":"sD1y"}],"b+Dq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=s(require("../operator.js"));function s(t){return t&&t.__esModule?t:{default:t}}function e(s,e,i,o){t.default.call(this,s,e,i,"a",o),this.name="add",this.info="Outputs sum of inputs",this.ports.a={x:-1,y:0},this.ports.b={x:1,y:0},this.ports.output={x:0,y:1,sensitive:!0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this.listen(this.ports.a,!0),e=this.listen(this.ports.b,!0);return s.keyOf(t+e)}}
},{"../operator.js":"sD1y"}],"hJcJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function s(e,s,i,o){t.default.call(this,e,s,i,"b",o),this.name="bounce",this.info="Outputs values between inputs",this.ports.rate={x:-1,y:0,clamp:{min:1}},this.ports.mod={x:1,y:0,default:"8"},this.ports.output={x:0,y:1,sensitive:!0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this.listen(this.ports.rate,!0),s=this.listen(this.ports.mod,!0)-1,i=Math.floor(e.f/t)%(2*s);return e.keyOf(i<=s?i:s-(i-s))}}
},{"../operator.js":"sD1y"}],"JjMb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function o(e,o,s,i){t.default.call(this,e,o,s,"c",i),this.name="clock",this.info="Outputs modulo of frame",this.ports.rate={x:-1,y:0,clamp:{min:1}},this.ports.mod={x:1,y:0,default:"8"},this.ports.output={x:0,y:1,sensitive:!0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this.listen(this.ports.rate,!0),o=this.listen(this.ports.mod,!0),s=Math.floor(e.f/t)%o;return e.keyOf(s)}}
},{"../operator.js":"sD1y"}],"vhnZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function o(e,o,s,r){t.default.call(this,e,o,s,"d",r),this.name="delay",this.info="Bangs on modulo of frame",this.ports.rate={x:-1,y:0,clamp:{min:1}},this.ports.mod={x:1,y:0,default:"8"},this.ports.output={x:0,y:1,bang:!0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this.listen(this.ports.rate,!0),o=this.listen(this.ports.mod,!0);return 0===e.f%(o*t)||1===o}}
},{"../operator.js":"sD1y"}],"+JwB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=t(require("../operator.js"));function t(e){return e&&e.__esModule?e:{default:e}}function s(t,s,i,o){e.default.call(this,t,s,i,"e",o),this.name="east",this.info="Moves eastward, or bangs",this.draw=!1,this.operation=function(){this.move(1,0),this.passive=!1}}
},{"../operator.js":"sD1y"}],"9pPo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function s(e,s,i,r){t.default.call(this,e,s,i,"f",r),this.name="if",this.info="Bangs if inputs are equal",this.ports.a={x:-1,y:0},this.ports.b={x:1,y:0},this.ports.output={x:0,y:1,bang:!0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this.listen(this.ports.a);return t===this.listen(this.ports.b)&&"."!==t}}
},{"../operator.js":"sD1y"}],"+kfC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t=s(require("../operator.js"));function s(t){return t&&t.__esModule?t:{default:t}}function i(s,i,e,r){t.default.call(this,s,i,e,"g",r),this.name="generator",this.info="Writes operands with offset",this.ports.x={x:-3,y:0},this.ports.y={x:-2,y:0},this.ports.len={x:-1,y:0,clamp:{min:1}},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var t=this.listen(this.ports.len,!0),i=this.listen(this.ports.x,!0),e=this.listen(this.ports.y,!0)+1,r=0;r<=t;r++){r>0&&s.lock(this.x+r,this.y);var o={x:r+1,y:0},h=this.listen(o);s.write(this.x+i+r,this.y+e,h)}this.ports.output={x:i,y:e}}}
},{"../operator.js":"sD1y"}],"t2uQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function o(e,o,s,r){t.default.call(this,e,o,s,"h",r),this.name="halt",this.info="Halts southward operand",this.ports.output={x:0,y:1,reader:!0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.lock(this.x+this.ports.output.x,this.y+this.ports.output.y),this.listen(this.ports.output,!0)}}
},{"../operator.js":"sD1y"}],"Wc4Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function s(e,s,i,r){t.default.call(this,e,s,i,"i",r),this.name="increment",this.info="Increments southward operand",this.ports.step={x:-1,y:0,default:"1"},this.ports.mod={x:1,y:0},this.ports.output={x:0,y:1,sensitive:!0,reader:!0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this.listen(this.ports.step,!0),s=this.listen(this.ports.mod,!0),i=this.listen(this.ports.output,!0);return e.keyOf((i+t)%(s>0?s:36))}}
},{"../operator.js":"sD1y"}],"vKCx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function r(e,r,s,o){t.default.call(this,e,r,s,"j",o),this.name="jumper",this.info="Outputs northward operand",this.ports.val={x:0,y:-1},this.ports.output={x:0,y:1},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.lock(this.x,this.y+1),this.listen(this.ports.val)}}
},{"../operator.js":"sD1y"}],"EAEF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function i(e,i,s,l){t.default.call(this,e,i,s,"k",l),this.name="konkat",this.info="Reads multiple variables",this.ports.len={x:-1,y:0,clamp:{min:1}},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.len=this.listen(this.ports.len,!0);for(var t=1;t<=this.len;t++){e.lock(this.x+t,this.y);var i=e.glyphAt(this.x+t,this.y);"."!==i&&(e.lock(this.x+t,this.y+1),e.write(this.x+t,this.y+1,e.valueIn(i)))}}}
},{"../operator.js":"sD1y"}],"NAGb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=s(require("../operator.js"));function s(t){return t&&t.__esModule?t:{default:t}}function e(s,e,i,r){t.default.call(this,s,e,i,"l",r),this.name="loop",this.info="Moves eastward operands",this.ports.step={x:-2,y:0,default:"1"},this.ports.len={x:-1,y:0},this.ports.val={x:1,y:0},this.ports.output={x:0,y:1},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var t=this.listen(this.ports.len,!0),e=this.listen(this.ports.step,!0),i=s.indexAt(this.x+1,this.y),r=s.s.substr(i,t),o=r.substr(t-e,e)+r.substr(0,t-e),h=0;h<=t;h++)h>0&&s.lock(this.x+h,this.y),s.write(this.x+h+1,this.y,o.charAt(h));return this.listen(this.ports.val)}}
},{"../operator.js":"sD1y"}],"5zYX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=s(require("../operator.js"));function s(t){return t&&t.__esModule?t:{default:t}}function e(s,e,i,o){t.default.call(this,s,e,i,"m",o),this.name="multiply",this.info="Outputs product of inputs",this.ports.a={x:-1,y:0},this.ports.b={x:1,y:0},this.ports.output={x:0,y:1,sensitive:!0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this.listen(this.ports.a,!0),e=this.listen(this.ports.b,!0);return s.keyOf(t*e)}}
},{"../operator.js":"sD1y"}],"+70B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=t(require("../operator.js"));function t(e){return e&&e.__esModule?e:{default:e}}function o(t,o,r,s){e.default.call(this,t,o,r,"n",s),this.name="north",this.info="Moves Northward, or bangs",this.draw=!1,this.operation=function(){this.move(0,-1),this.passive=!1}}
},{"../operator.js":"sD1y"}],"tb3o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=s(require("../operator.js"));function s(t){return t&&t.__esModule?t:{default:t}}function e(s,e,i,r){t.default.call(this,s,e,i,"o",r),this.name="read",this.info="Reads operand with offset",this.ports.x={x:-2,y:0},this.ports.y={x:-1,y:0},this.ports.output={x:0,y:1},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this.listen(this.ports.x,!0),s=this.listen(this.ports.y,!0);return this.ports.read={x:t+1,y:s},this.listen(this.ports.read)}}
},{"../operator.js":"sD1y"}],"q9iu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=s(require("../operator.js"));function s(t){return t&&t.__esModule?t:{default:t}}function e(s,e,i,r){t.default.call(this,s,e,i,"p",r),this.name="push",this.info="Writes eastward operand",this.ports.len={x:-1,y:0,clamp:{min:1}},this.ports.key={x:-2,y:0},this.ports.val={x:1,y:0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var t=this.listen(this.ports.len,!0),e=this.listen(this.ports.key,!0),i=0;i<t;i++)s.lock(this.x+i,this.y+1);return this.ports.output={x:e%t,y:1},this.listen(this.ports.val)}}
},{"../operator.js":"sD1y"}],"HsnN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t=s(require("../operator.js"));function s(t){return t&&t.__esModule?t:{default:t}}function i(s,i,o,e){t.default.call(this,s,i,o,"q",e),this.name="query",this.info="Reads operands with offset",this.ports.x={x:-3,y:0},this.ports.y={x:-2,y:0},this.ports.len={x:-1,y:0,clamp:{min:1}},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var t=this.listen(this.ports.len,!0),i=this.listen(this.ports.x,!0),o=this.listen(this.ports.y,!0),e=1;e<=t;e++){s.lock(this.x+i+e,this.y+o),this.ports["val".concat(e)]={x:i+e,y:o},this.ports.output={x:e-t,y:1};var r=this.listen(this.ports["val".concat(e)]);this.output("".concat(r))}this.ports.output={x:0,y:1}}}
},{"../operator.js":"sD1y"}],"HLt0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function s(e,s,i,r){t.default.call(this,e,s,i,"r",r),this.name="random",this.info="Outputs random value",this.ports.min={x:-1,y:0},this.ports.max={x:1,y:0},this.ports.output={x:0,y:1,sensitive:!0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this.listen(this.ports.min,!0),s=this.listen(this.ports.max,!0),i=parseInt(Math.random()*((s>0?s:36)-t)+t);return e.keyOf(i)}}
},{"../operator.js":"sD1y"}],"bbJV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=t(require("../operator.js"));function t(e){return e&&e.__esModule?e:{default:e}}function s(t,s,o,i){e.default.call(this,t,s,o,"s",i),this.name="south",this.info="Moves southward, or bangs",this.draw=!1,this.operation=function(){this.move(0,1),this.passive=!1}}
},{"../operator.js":"sD1y"}],"kN1r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=s(require("../operator.js"));function s(t){return t&&t.__esModule?t:{default:t}}function e(s,e,i,r){t.default.call(this,s,e,i,"t",r),this.name="track",this.info="Reads eastward operand",this.ports.key={x:-2,y:0},this.ports.len={x:-1,y:0,clamp:{min:1}},this.ports.output={x:0,y:1},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var t=this.listen(this.ports.len,!0),e=this.listen(this.ports.key,!0),i=1;i<=t;i++)s.lock(this.x+i,this.y);return this.ports.val={x:e%t+1,y:0},this.listen(this.ports.val)}}
},{"../operator.js":"sD1y"}],"Hn69":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function s(e,s,i,r){t.default.call(this,e,s,i,"u",r),this.name="uclid",this.info="Bangs on Euclidean rhythm",this.ports.step={x:-1,y:0,clamp:{min:0},default:"1"},this.ports.max={x:1,y:0,clamp:{min:1},default:"8"},this.ports.output={x:0,y:1,bang:!0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this.listen(this.ports.step,!0),s=this.listen(this.ports.max,!0);return t*(e.f+s-1)%s+t>=s}}
},{"../operator.js":"sD1y"}],"CLAo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function i(e,i,r,s){t.default.call(this,e,i,r,"v",s),this.name="variable",this.info="Reads and writes variable",this.ports.write={x:-1,y:0},this.ports.read={x:1,y:0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this.listen(this.ports.write),i=this.listen(this.ports.read);if("."===t&&"."!==i&&(this.ports.output={x:0,y:1}),"."===t)return e.valueIn(i);e.variables[t]=i}}
},{"../operator.js":"sD1y"}],"O8pR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=t(require("../operator.js"));function t(e){return e&&e.__esModule?e:{default:e}}function s(t,s,i,o){e.default.call(this,t,s,i,"w",o),this.name="west",this.info="Moves westward, or bangs",this.draw=!1,this.operation=function(){this.move(-1,0),this.passive=!1}}
},{"../operator.js":"sD1y"}],"zquM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=s(require("../operator.js"));function s(t){return t&&t.__esModule?t:{default:t}}function e(s,e,i,r){t.default.call(this,s,e,i,"x",r),this.name="write",this.info="Writes operand with offset",this.ports.x={x:-2,y:0},this.ports.y={x:-1,y:0},this.ports.val={x:1,y:0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this.listen(this.ports.x,!0),s=this.listen(this.ports.y,!0)+1;return this.ports.output={x:t,y:s},this.listen(this.ports.val)}}
},{"../operator.js":"sD1y"}],"i8IC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function s(e,s,r,i){t.default.call(this,e,s,r,"y",i),this.name="jymper",this.info="Outputs westward operand",this.ports.val={x:-1,y:0},this.ports.output={x:1,y:0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.lock(this.x+1,this.y),this.listen(this.ports.val)}}
},{"../operator.js":"sD1y"}],"Ayyo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function s(e,s,r,i){t.default.call(this,e,s,r,"z",i),this.name="lerp",this.info="Transitions operand to target",this.ports.rate={x:-1,y:0,default:"1"},this.ports.target={x:1,y:0},this.ports.output={x:0,y:1,sensitive:!0,reader:!0},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this.listen(this.ports.rate,!0),s=this.listen(this.ports.target,!0),r=this.listen(this.ports.output,!0),i=r<=s-t?t:r>=s+t?-t:s-r;return e.keyOf(r+i)}}
},{"../operator.js":"sD1y"}],"wsDQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("../operator.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r,i,n){e.default.call(this,t,r,i,"*",!0),this.name="bang",this.info="Bangs neighboring operands",this.draw=!1,this.run=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.draw=!1,this.erase()}}
},{"../operator.js":"sD1y"}],"SdKR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function i(e,i,s,o){t.default.call(this,e,i,s,"#",!0),this.name="comment",this.info="Halts line",this.draw=!1,this.operation=function(){for(var t=this.x+1;t<=e.w&&(e.lock(t,this.y),e.glyphAt(t,this.y)!==this.glyph);t++);e.lock(this.x,this.y)}}
},{"../operator.js":"sD1y"}],"LS0L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=i(require("../operator.js"));function i(t){return t&&t.__esModule?t:{default:t}}function s(i,s,e,n){t.default.call(this,i,s,e,":",!0),this.name="midi",this.info="Sends MIDI note",this.ports.channel={x:1,y:0,clamp:{min:0,max:16}},this.ports.octave={x:2,y:0,clamp:{min:0,max:8}},this.ports.note={x:3,y:0},this.ports.velocity={x:4,y:0,default:"f",clamp:{min:0,max:16}},this.ports.length={x:5,y:0,default:"1",clamp:{min:0,max:16}},this.operation=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((this.hasNeighbor("*")||!1!==t)&&"."!==this.listen(this.ports.channel)&&"."!==this.listen(this.ports.octave)&&"."!==this.listen(this.ports.note)){var s=this.listen(this.ports.channel,!0),e=this.listen(this.ports.octave,!0),n=this.listen(this.ports.note),o=this.listen(this.ports.velocity,!0),a=this.listen(this.ports.length,!0);if(isNaN(n)){var h=this.transpose(n,e),r=h.octave,l=h.value,p=parseInt(o/16*127);this.draw=!1,i.terminal.io.midi.send(s,r,l,p,a),!0===t&&terminal.io.midi.run()}}}}
},{"../operator.js":"sD1y"}],"so6i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t=s(require("../operator.js"));function s(t){return t&&t.__esModule?t:{default:t}}function i(s,i,e,o){t.default.call(this,s,i,e,"%",!0),this.name="mono",this.info="Sends MIDI monophonic note",this.ports.channel={x:1,y:0,clamp:{min:0,max:16}},this.ports.octave={x:2,y:0,clamp:{min:0,max:8}},this.ports.note={x:3,y:0},this.ports.velocity={x:4,y:0,default:"f",clamp:{min:0,max:16}},this.ports.length={x:5,y:0,default:"1",clamp:{min:0,max:16}},this.operation=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((this.hasNeighbor("*")||!1!==t)&&"."!==this.listen(this.ports.channel)&&"."!==this.listen(this.ports.octave)&&"."!==this.listen(this.ports.note)){var s=this.listen(this.ports.channel,!0),i=this.listen(this.ports.octave,!0),e=this.listen(this.ports.note),o=this.listen(this.ports.velocity,!0),n=this.listen(this.ports.length,!0);if(isNaN(e)){var a=this.transpose(e,i),h=a.octave,r=a.value,l=parseInt(o/16*127);this.draw=!1,terminal.io.mono.send(s,h,r,l,n),!0===t&&terminal.io.mono.run()}}}}
},{"../operator.js":"sD1y"}],"44Bc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=i(require("../operator.js"));function i(t){return t&&t.__esModule?t:{default:t}}function s(i,s,e){t.default.call(this,i,s,e,"!",!0),this.name="cc",this.info="Sends MIDI control change",this.ports.channel={x:1,y:0,clamp:{min:0,max:15}},this.ports.knob={x:2,y:0,clamp:{min:0}},this.ports.value={x:3,y:0,clamp:{min:0}},this.operation=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((this.hasNeighbor("*")||!1!==t)&&"."!==this.listen(this.ports.channel)&&"."!==this.listen(this.ports.knob)){var i=this.listen(this.ports.channel,!0),s=this.listen(this.ports.knob,!0),e=this.listen(this.ports.value,!0),n=Math.ceil(127*e/35);this.draw=!1,terminal.io.cc.send(i,s,n),!0===t&&terminal.io.cc.run()}}}
},{"../operator.js":"sD1y"}],"TlEQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t=e(require("../operator.js"));function e(t){return t&&t.__esModule?t:{default:t}}function i(e,i,r,s){t.default.call(this,e,i,r,";",!0),this.name="udp",this.info="Sends UDP message",this.operation=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.hasNeighbor("*")||!1!==t){for(var i=1;i<=36;i++){if("."===e.glyphAt(this.x+i,this.y))break;e.lock(this.x+i,this.y)}for(var r="",s=1;s<=36;s++){var a=e.glyphAt(this.x+s,this.y);if("."===a)break;r+=a}""!==r&&(this.draw=!1,terminal.io.udp.send(r),!0===t&&terminal.io.udp.run())}}}
},{"../operator.js":"sD1y"}],"s72q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t=s(require("../operator.js"));function s(t){return t&&t.__esModule?t:{default:t}}function i(s,i,e,h){t.default.call(this,s,i,e,"=",!0),this.name="osc",this.info="Sends OSC message",this.ports.path={x:1,y:0},this.operation=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((this.hasNeighbor("*")||!1!==t)&&(this.path=this.listen(this.ports.path),this.path&&"."!==this.path)){this.msg="";for(var i=2;i<=36;i++){var e=s.glyphAt(this.x+i,this.y);if("."===e)break;s.lock(this.x+i,this.y),this.msg+=e}this.draw=!1,terminal.io.osc.send("/"+this.path,this.msg),!0===t&&terminal.io.osc.run()}}}
},{"../operator.js":"sD1y"}],"ssAV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("../operator.js"));function t(e){return e&&e.__esModule?e:{default:e}}var i=["C","c","D","d","E","F","f","G","g","A","a","B"];function r(t,r,o,n){e.default.call(this,t,r,o,"&",!0),this.name="mono",this.info="Receive MIDI note",this.ports.output={x:0,y:1},this.operation=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!terminal.io.midi.key)return".";var e=Math.floor(terminal.io.midi.key/12),t=terminal.io.midi.key%12,r=i[t],o=this.transpose(r,e);return o&&o.real?o.real:"."}}
},{"../operator.js":"sD1y"}],"JmC8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=F(require("./library/_null.js")),e=F(require("./library/a.js")),u=F(require("./library/b.js")),l=F(require("./library/c.js")),a=F(require("./library/d.js")),i=F(require("./library/e.js")),t=F(require("./library/f.js")),d=F(require("./library/g.js")),f=F(require("./library/h.js")),s=F(require("./library/i.js")),b=F(require("./library/j.js")),y=F(require("./library/k.js")),j=F(require("./library/l.js")),q=F(require("./library/m.js")),o=F(require("./library/n.js")),_=F(require("./library/o.js")),n=F(require("./library/p.js")),c=F(require("./library/q.js")),p=F(require("./library/r.js")),m=F(require("./library/s.js")),v=F(require("./library/t.js")),x=F(require("./library/u.js")),g=F(require("./library/v.js")),k=F(require("./library/w.js")),h=F(require("./library/x.js")),w=F(require("./library/y.js")),z=F(require("./library/z.js")),M=F(require("./library/_bang.js")),O=F(require("./library/_comment.js")),P=F(require("./library/_midi.js")),A=F(require("./library/_mono.js")),B=F(require("./library/_cc.js")),C=F(require("./library/_udp.js")),D=F(require("./library/_osc.js")),E=F(require("./library/_keys.js"));function F(r){return r&&r.__esModule?r:{default:r}}var G={0:r.default,1:r.default,2:r.default,3:r.default,4:r.default,5:r.default,6:r.default,7:r.default,8:r.default,9:r.default,a:e.default,b:u.default,c:l.default,d:a.default,e:i.default,f:t.default,g:d.default,h:f.default,i:s.default,j:b.default,k:y.default,l:j.default,m:q.default,n:o.default,o:_.default,p:n.default,q:c.default,r:p.default,s:m.default,t:v.default,u:x.default,v:g.default,w:k.default,x:h.default,y:w.default,z:z.default,"*":M.default,"#":O.default,":":P.default,"%":A.default,"!":B.default,";":C.default,"=":D.default,"&":E.default};exports.default=G;
},{"./library/_null.js":"MNML","./library/a.js":"b+Dq","./library/b.js":"hJcJ","./library/c.js":"JjMb","./library/d.js":"vhnZ","./library/e.js":"+JwB","./library/f.js":"9pPo","./library/g.js":"+kfC","./library/h.js":"t2uQ","./library/i.js":"Wc4Z","./library/j.js":"vKCx","./library/k.js":"EAEF","./library/l.js":"NAGb","./library/m.js":"5zYX","./library/n.js":"+70B","./library/o.js":"tb3o","./library/p.js":"q9iu","./library/q.js":"HsnN","./library/r.js":"HLt0","./library/s.js":"bbJV","./library/t.js":"kN1r","./library/u.js":"Hn69","./library/v.js":"CLAo","./library/w.js":"O8pR","./library/x.js":"zquM","./library/y.js":"i8IC","./library/z.js":"Ayyo","./library/_bang.js":"wsDQ","./library/_comment.js":"SdKR","./library/_midi.js":"LS0L","./library/_mono.js":"so6i","./library/_cc.js":"44Bc","./library/_udp.js":"TlEQ","./library/_osc.js":"s72q","./library/_keys.js":"ssAV"}],"cGtn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var t=i(require("./library.js"));function i(t){return t&&t.__esModule?t:{default:t}}function s(i){this.w=1,this.h=1,this.f=0,this.s="",this.terminal=i,this.keys=Object.keys(t.default).slice(0,36),this.locks=[],this.runtime=[],this.variables={},this.run=function(){this.runtime=this.parse(),this.operate(this.runtime),this.f+=1},this.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.w,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.h;this.f=0,this.w=t,this.h=i,this.replace(new Array(this.h*this.w+1).join("."))},this.load=function(t,i,s){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.w=t,this.h=i,this.f=e,this.replace(this.clean(s)),this},this.write=function(t,i,s){if(!s)return!1;if(1!==s.length)return!1;if(!this.inBounds(t,i))return!1;if(this.glyphAt(t,i)===s)return!1;var e=this.indexAt(t,i),n=this.isAllowed(s)?s:".",r=this.s.substr(0,e)+n+this.s.substr(e+1);return this.replace(r),!0},this.clean=function(t){return"".concat(t).replace(/\n/g,"").trim().substr(0,this.w*this.h)},this.replace=function(t){this.s=t},this.parse=function(){for(var t=[],i=0;i<this.h;i++)for(var s=0;s<this.w;s++){var e=this.glyphAt(s,i),n=this.cast(e,s,i);n&&t.push(n)}return t},this.cast=function(i,s,e){if("."!==i&&t.default[i.toLowerCase()]){var n=i===i.toUpperCase();return new(t.default[i.toLowerCase()])(this,s,e,n)}},this.operate=function(t){for(var i in this.release(),t){var s=t[i];this.lockAt(s.x,s.y)||(s.passive||s.hasNeighbor("*"))&&s.run()}},this.bounds=function(){for(var t=0,i=0,s=0;s<this.h;s++)for(var e=0;e<this.w;e++){"."!==this.glyphAt(e,s)&&(e>t&&(t=e),s>i&&(i=s))}return{w:t,h:i}},this.release=function(){this.locks=new Array(this.w*this.h),this.variables={}},this.unlock=function(t,i){this.locks[this.indexAt(t,i)]=null},this.lock=function(t,i){this.lockAt(t,i)||(this.locks[this.indexAt(t,i)]=!0)},this.inBounds=function(t,i){return Number.isInteger(t)&&Number.isInteger(i)&&t>=0&&t<this.w&&i>=0&&i<this.h},this.isAllowed=function(i){return"."===i||!!t.default["".concat(i).toLowerCase()]},this.keyOf=function(t){return!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.keys[t%36].toUpperCase():this.keys[t%36]},this.valueOf=function(t){return"."===t?0:this.keys.indexOf("".concat(t).toLowerCase())},this.indexAt=function(t,i){return!0===this.inBounds(t,i)?t+this.w*i:-1},this.operatorAt=function(t,i){return this.runtime.filter(function(s){return s.x===t&&s.y===i})[0]},this.posAt=function(t){return{x:t%this.w,y:parseInt(t/this.w)}},this.glyphAt=function(t,i){return this.s.charAt(this.indexAt(t,i))},this.valueAt=function(t,i){return this.valueOf(this.glyphAt(t,i))},this.lockAt=function(t,i){return!0===this.locks[this.indexAt(t,i)]},this.valueIn=function(t){return this.variables[t]},this.format=function(){for(var t=[],i=0;i<this.h;i++)t.push(this.s.substr(i*this.w,this.w));return t.reduce(function(t,i){return"".concat(t).concat(i,"\n")},"")},this.length=function(){return this.strip().length},this.strip=function(){return this.s.replace(/[^a-zA-Z0-9+]+/gi,"").trim()},this.toString=function(){return this.format().trim()},this.reset()}
},{"./library.js":"JmC8"}],"9RRI":[function(require,module,exports) {
"use strict";function t(t){function i(t,i,e){return t<i?i:t>e?e:t}this.mode=0,this.outputIndex=-1,this.inputIndex=-1,this.outputs=[],this.inputs=[],this.stack=[],this.key=null,this.start=function(){console.info("Midi Starting.."),this.setup()},this.clear=function(){},this.update=function(){var i=this;if(t.controller.clearCat("default","Midi"),t.controller.add("default","Midi","Refresh Device List",function(){t.io.midi.setup(),t.io.midi.update()}),t.controller.addSpacer("default","Midi","spacer1"),this.outputs.length<1)t.controller.add("default","Midi","No Midi Outputs");else{var e=function(e){t.controller.add("default","Midi","".concat(i.outputs[e].name," Output ").concat(t.io.midi.outputIndex===parseInt(e)?" — Active":""),function(){t.io.midi.selectOutput(e)},"")};for(var s in this.outputs)e(s);t.controller.add("default","Midi","No Output ".concat(-1===t.io.midi.outputIndex?" — Active":""),function(){t.io.midi.selectOutput(-1)},""),t.controller.addSpacer("default","Midi","spacer2")}if(this.inputs.length<1)t.controller.add("default","Midi","No Midi Inputs");else{var n=function(e){t.controller.add("default","Midi","".concat(i.inputs[e].name," Input ").concat(t.io.midi.inputIndex===parseInt(e)?" — Active":""),function(){t.io.midi.selectInput(e)},"")};for(var s in this.inputs)n(s);t.controller.add("default","Midi","No Input ".concat(-1===t.io.midi.inputIndex?" — Active":""),function(){t.io.midi.selectInput(-1)},"")}t.controller.commit()},this.run=function(){var t=this;this.stack=this.stack.filter(function(i){var e=i[4]>0,s=i[5];return!0!==e?t.trigger(i,!1):!0!==s&&t.trigger(i,!0),i[4]--,e})},this.trigger=function(t,e){if(this.outputDevice()){var s=!0===e?144+t[0]:128+t[0],n=i(24+12*t[1]+t[2],0,127),u=i(t[3],0,127);this.outputDevice().send([s,n,u]),t[5]=!0}else console.warn("Midi","No midi output!")},this.send=function(t,i,e,s,n){var u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];for(var o in this.stack){var c=this.stack[o];if(c[0]===t&&c[1]===i&&c[2]===e)return c[3]=s,c[4]=n,void(c[5]=u)}this.stack.push([t,i,e,s,n,u])},this.silence=function(){var t=this;this.stack=this.stack.filter(function(i){return t.trigger(i,!1),!1})},this.press=function(t){this.key=parseInt(t)},this.release=function(){this.key=null},this.ticks=[],this.sendClock=function(){var i=this;if(this.outputDevice()&&!0===this.sendClock)for(var e=6e4/t.clock.speed.value/4/6,s=0;s<6;s++)this.ticks[s]&&clearTimeout(this.ticks[s]),this.ticks[s]=setTimeout(function(){i.outputDevice().send([248],0)},parseInt(s)*e)},this.receive=function(i){switch(i.data[0]){case 144:this.press(i.data[1]);break;case 128:this.release();break;case 248:t.clock.tap();break;case 250:console.log("Midi","Clock start."),t.clock.play();break;case 252:console.log("Midi","Clock stop."),t.clock.stop()}},this.selectOutput=function(t){if(-1===t)return this.outputIndex=-1,console.log("Midi","Select Output Device: None"),void this.update();this.outputs[t]&&(this.outputIndex=parseInt(t),console.log("Midi","Select Output Device: ".concat(this.outputDevice().name)),this.update())},this.selectInput=function(t){var i=this;if(this.inputDevice()&&(this.inputDevice().onmidimessage=null),-1===t)return this.inputIndex=-1,console.log("Midi","Select Input Device: None"),void this.update();this.inputs[t]&&(this.inputIndex=parseInt(t),this.inputDevice().onmidimessage=function(t){i.receive(t)},console.log("Midi","Select Input Device: ".concat(this.inputDevice().name)),this.update())},this.outputDevice=function(){return this.outputs[this.outputIndex]},this.inputDevice=function(){return this.inputs[this.inputIndex]},this.setup=function(){navigator.requestMIDIAccess&&navigator.requestMIDIAccess({sysex:!1}).then(this.access,function(t){console.warn("No Midi",t)})},this.access=function(i){var e=i.outputs.values();t.io.midi.outputs=[];for(var s=e.next();s&&!s.done;s=e.next())t.io.midi.outputs.push(s.value);t.io.midi.selectOutput(0);var n=i.inputs.values();t.io.midi.inputs=[];for(var u=n.next();u&&!u.done;u=n.next())t.io.midi.inputs.push(u.value);t.io.midi.selectInput(-1)},this.toString=function(){return this.outputDevice()?"".concat(this.outputDevice().name):"No Midi"}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"/tKv":[function(require,module,exports) {
"use strict";function t(t){this.stack=[],this.start=function(){console.info("MidiCC","Starting..")},this.clear=function(){this.stack=[]},this.run=function(){for(var t in this.stack)this.play(this.stack[t])},this.send=function(t,i,s){this.stack.push([t,i,s])},this.play=function(i){var s=t.io.midi.outputDevice();s?s.send([176+i[0],64+i[1],i[2]]):console.warn("MidiCC","No Midi device.")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"dF3l":[function(require,module,exports) {
"use strict";function t(t){function e(t,e,i){return t<e?e:t>i?i:t}this.queue=null,this.stack=[],this.start=function(){console.info("MidiMono Starting..")},this.run=function(){this.stack[0]&&(this.stack[0].length<=1?this.release():this.stack[0].length--),this.queue&&this.press()},this.press=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.queue;t&&(this.stack[0]&&this.release(),this.trigger(t,!0),this.stack[0]=t,this.queue=null)},this.release=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stack[0])&&(this.trigger(this.stack[0],!1),this.stack=[])},this.clear=function(){},this.trigger=function(i,s){if(t.io.midi.outputDevice()){if(i){var n=!0===s?144+i.channel:128+i.channel,o=e(24+12*i.octave+i.note,0,127),h=e(i.velocity,0,127);t.io.midi.outputDevice().send([n,o,h])}}else console.warn("MidiMono","No midi output!")},this.send=function(t,e,i,s,n){this.queue={channel:t,octave:e,note:i,velocity:s,length:n}},this.silence=function(){this.release()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"LvjM":[function(require,module,exports) {
"use strict";function t(t){this.stack=[],this.port=null,this.options={default:49161,orca:49160},this.start=function(){console.info("UDP Starting..")},this.clear=function(){this.stack=[]},this.run=function(){for(var t in this.stack)this.play(this.stack[t])},this.send=function(t){this.stack.push(t)},this.play=function(t){},this.select=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.default},this.update=function(){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"N+ht":[function(require,module,exports) {
"use strict";function t(t){this.stack=[],this.port=null,this.options={default:49162,tidalCycles:6010,sonicPi:4559,superCollider:57120},this.start=function(){console.info("OSC Starting..")},this.clear=function(){this.stack=[]},this.run=function(){for(var t in this.stack)this.play(this.stack[t])},this.send=function(t,s){this.stack.push({path:t,msg:s})},this.play=function(t){t.path,t.msg},this.select=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.default},this.update=function(){},this.setup=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"8pgY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=c;var t=r(require("./io/midi.js")),i=r(require("./io/cc.js")),s=r(require("./io/mono.js")),e=r(require("./io/udp.js")),n=r(require("./io/osc.js"));function r(t){return t&&t.__esModule?t:{default:t}}function c(r){this.midi=new t.default(r),this.cc=new i.default(r),this.mono=new s.default(r),this.udp=new e.default(r),this.osc=new n.default(r),this.start=function(){this.midi.start(),this.cc.start(),this.mono.start(),this.udp.start(),this.osc.start(),this.clear()},this.clear=function(){this.midi.clear(),this.cc.clear(),this.mono.clear(),this.udp.clear(),this.osc.clear()},this.run=function(){this.midi.run(),this.cc.run(),this.mono.run(),this.udp.run(),this.osc.run()},this.silence=function(){this.midi.silence(),this.mono.silence()},this.length=function(){return this.midi.stack.length+this.cc.stack.length+this.udp.stack.length+this.osc.stack.length+this.mono.stack.length},this.inspect=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.grid.w,i="",s=0;s<this.length();s++)i+="|";return function(t,i,s){for(;t.length<i;)t+=s;return t}(i,t,".")}}
},{"./io/midi.js":"9RRI","./io/cc.js":"/tKv","./io/mono.js":"dF3l","./io/udp.js":"LvjM","./io/osc.js":"N+ht"}],"Fvl3":[function(require,module,exports) {
"use strict";function t(t){function i(t,i,s){return t<i?i:t>s?s:t}this.x=0,this.y=0,this.w=1,this.h=1,this.mode=0,this.block=[],this.move=function(s,h){isNaN(s)||isNaN(h)||(this.x=i(this.x+parseInt(s),0,t.orca.w-1),this.y=i(this.y-parseInt(h),0,t.orca.h-1),t.update())},this.moveTo=function(s,h){s&&h&&!isNaN(s)&&!isNaN(h)&&(this.x=i(parseInt(s),0,t.orca.w-1),this.y=i(parseInt(h),0,t.orca.h-1),t.update())},this.scale=function(s,h){isNaN(s)||isNaN(h)||(this.w=i(this.w+parseInt(s),1,t.orca.w-this.x),this.h=i(this.h-parseInt(h),1,t.orca.h-this.y),t.update())},this.scaleTo=function(s,h){isNaN(s)||isNaN(h)||(this.w=i(parseInt(s),0,t.orca.w-1),this.h=i(parseInt(h),0,t.orca.h-1),t.update())},this.resize=function(s,h){isNaN(s)||isNaN(h)||(this.w=i(parseInt(s),1,t.orca.w-this.x),this.h=i(parseInt(h),1,t.orca.h-this.y),t.update())},this.drag=function(t,i){isNaN(t)||isNaN(i)||(this.mode=0,this.cut(),this.move(t,i),this.paste())},this.selectAll=function(){this.x=0,this.y=0,this.w=t.orca.w,this.h=t.orca.h,this.mode=0,t.update()},this.select=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.x,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.y,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.w,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.h;this.moveTo(i,s),this.scaleTo(h,o),t.update()},this.reset=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.x=0,this.y=0),this.move(0,0),this.w=1,this.h=1,this.mode=0},this.copy=function(){for(var t=this.getBlock(),i=[],s=0;s<t.length;s++)i.push(t[s].join(""));clipboard.writeText(i.join("\n"))},this.cut=function(){this.copy(),this.erase()},this.paste=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.writeBlock(clipboard.readText().split(/\r?\n/),t)},this.read=function(){return t.orca.glyphAt(this.x,this.y)},this.write=function(i){t.orca.write(this.x,this.y,i)&&1===this.mode&&this.move(1,0),t.history.record(t.orca.s)},this.erase=function(){this.eraseBlock(this.x,this.y,this.w,this.h),1===this.mode&&this.move(-1,0),t.history.record(t.orca.s)},this.rotate=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!isNaN(i)){var s=t.cursor.getBlock();for(var h in s)for(var o in s[h])if(s[h][o]&&"."!==s[h][o]){var r=s[h][o]===s[h][o].toUpperCase(),e=t.orca.valueOf(s[h][o]);s[h][o]=t.orca.keyOf(parseInt(i)+e,r)}t.cursor.writeBlock(s)}},this.find=function(i){var s=t.orca.s.indexOf(i);if(!(s<0)){var h=t.orca.posAt(s);this.w=i.length,this.h=1,this.x=h.x,this.y=h.y}},this.trigger=function(){var i=t.orca.operatorAt(this.x,this.y);i?(console.log("Cursor","Trigger: "+i.name),i.run(!0)):console.warn("Cursor","Nothing to trigger.")},this.toggleMode=function(t){this.w=1,this.h=1,this.mode=0===this.mode?t:0},this.inspect=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.w>1||this.h>1)return"multi";var i=t.portAt(this.x,this.y);return i?"".concat(i[3]):t.orca.lockAt(this.x,this.y)?"locked":"empty"},this.comment=function(){var t=this.getBlock();for(var i in t)t[i][0]="#"===t[i][0]?".":"#",t[i][t[i].length-1]="#"===t[i][t[i].length-1]?".":"#";this.writeBlock(t)},this.getBlock=function(){for(var i=this.toRect(),s=[],h=i.y;h<i.y+i.h;h++){for(var o=[],r=i.x;r<i.x+i.w;r++)o.push(t.orca.glyphAt(r,h));s.push(o)}return s},this.writeBlock=function(i){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i&&0!==i.length){var h=this.toRect(),o=h.y;for(var r in i){var e=h.x;for(var a in i[r]){var n=i[r][a];t.orca.write(e,o,!0===s&&"."===n?t.orca.glyphAt(e,o):n),e++}o++}t.history.record(t.orca.s)}},this.eraseBlock=function(i,s,h,o){if(!(isNaN(i)||isNaN(s)||isNaN(h)||isNaN(o))){for(var r=s;r<s+o;r++)for(var e=i;e<i+h;e++)t.orca.write(e,r,".");t.history.record(t.orca.s)}},this.toRect=function(){return{x:this.x,y:this.y,w:this.w,h:this.h}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"XlYJ":[function(require,module,exports) {
"use strict";function t(t){this.path=null,this.queue=[],this.start=function(){this.increment(),this.new()},this.new=function(){console.log("Source","Make a new file.."),this.path=null,this.queue=[],t.orca.reset(),t.resize(),t.history.reset(),t.cursor.reset(),t.clock.play()},this.open=function(){console.log("Source","Open a file..")},this.save=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("Source","Save a file..")},this.saveAs=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("Source","Save a file as..")},this.revert=function(){this.path&&console.log("Source","Revert a file..")},this.inject=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]},this.write=function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.generate(),arguments.length>2&&void 0!==arguments[2]&&arguments[2]},this.run=function(){!this.queue||this.queue.length<t.orca.f||!this.queue[t.orca.f]||t.commander.trigger(this.queue[t.orca.f])},this.load=function(e){var n=e.split("\n").map(function(e){return function(e){for(var n="",o=0;o<=e.length;o++){var i=e.charAt(o);n+=t.orca.isAllowed(i)?i:"."}return n}(e)}),o=n[0].length,i=n.length,r=n.join("\n").trim();t.orca.load(o,i,r),t.history.reset(),t.history.record(t.orca.s),t.fit()},this.quit=function(){},this.verify=function(){},this.hasChanges=function(){},this.resume=function(){this.read(this.recall("active"))},this.remember=function(t,e){t&&e&&(console.log("Source","Remember: ".concat(t,"=").concat(e)),localStorage.setItem(t,e))},this.recall=function(t){if(t)return localStorage.hasOwnProperty(t)?(console.log("Source","Recall: ".concat(t)),localStorage.getItem(t)):void 0},this.forget=function(t){t&&(console.log("Source","Forget: ".concat(t)),localStorage.removeItem(t))},this.increment=function(){var t=this.recall("session");this.remember("session",isNaN(t)?1:parseInt(t)+1)},this.generate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.orca;return"".concat(e)},this.locate=function(t){if(this.path){var e=path.join(this.folder(),t);return fs.existsSync(e)?e:null}},this.name=function(){return this.path?path.basename(this.path,".orca"):null},this.folder=function(){return this.path?path.dirname(this.path):null},this.toString=function(){return this.path?this.name():"unsaved"}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"uqTP":[function(require,module,exports) {
"use strict";function t(){function t(t,i,s){return t<i?i:t>s?s:t}this.index=0,this.frames=[],this.host=null,this.key=null,this.bind=function(t,i){console.log("History is recording.."),this.host=t,this.key=i,this.reset()},this.reset=function(){this.index=0,this.frames=[]},this.record=function(t){this.index===this.frames.length?this.append(t):this.fork(t),this.trim(),this.index=this.frames.length},this.undo=function(){0!==this.index?(this.index=t(this.index-1,0,this.frames.length-2),this.apply(this.frames[this.index])):console.warn("History","Reached beginning")},this.redo=function(){this.index+1>this.frames.length-1?console.warn("History","Reached end"):(this.index=t(this.index+1,0,this.frames.length-1),this.apply(this.frames[this.index]))},this.apply=function(t){this.host[this.key]?t&&t.length===this.host[this.key].length&&(this.host[this.key]=this.frames[this.index]):console.log("Unknown binding to key ".concat(this.key))},this.append=function(t){t&&(this.frames[this.index-1]&&this.frames[this.index-1]===t||this.frames.push(t))},this.fork=function(t){this.frames=this.frames.slice(0,this.index+1),this.append(t)},this.trim=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;this.frames.length<t||this.frames.shift()},this.last=function(){return this.frames[this.index-1]},this.length=function(){return this.frames.length}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"bxOt":[function(require,module,exports) {
"use strict";function e(e){var t=this;for(var i in this.isActive=!1,this.query="",this.history=[],this.historyIndex=0,this.passives={find:function(t){e.cursor.find(t)},select:function(t){var i=t.split(";");e.cursor.select(i[0],i[1],i[2],i[3])},inject:function(t){e.source.inject(t,!1)},rot:function(t){e.cursor.rotate(parseInt(t))},write:function(t){var i=t.split(";");e.cursor.select(i[1],i[2],i[0].length)}},this.actives={osc:function(t){e.io.osc.select(parseInt(t))},udp:function(t){e.io.udp.select(parseInt(t))},copy:function(t){e.cursor.copy()},paste:function(t){e.cursor.paste(!0)},erase:function(t){e.cursor.erase()},play:function(t){e.clock.play()},stop:function(t){e.clock.stop()},run:function(t){e.run()},apm:function(t){e.clock.set(null,parseInt(t))},bpm:function(t){e.clock.set(parseInt(t),parseInt(t),!0)},time:function(t){e.clock.setFrame(parseInt(t))},rewind:function(t){e.clock.setFrame(e.orca.f-parseInt(t))},skip:function(t){e.clock.setFrame(e.orca.f+parseInt(t))},color:function(t){var i=t.split(";");e.theme.set("b_med",i[0]),e.theme.set("b_inv",i[1]),e.theme.set("b_high",i[2])},graphic:function(t){e.theme.setImage(e.source.locate(t+".jpg"))},inject:function(t){e.source.inject(t,!0)},write:function(t){var i=t.split(";");e.cursor.select(i[1],i[2],i[0].length),e.cursor.writeBlock([i[0].split("")])}},this.actives)this.actives[i.substr(0,2)]=this.actives[i];this.start=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.isActive=!0,this.query=t,e.update()},this.stop=function(){this.isActive=!1,this.query="",this.historyIndex=this.history.length,e.update()},this.erase=function(){this.query=this.query.slice(0,-1),this.preview()},this.write=function(e){1===e.length&&(this.query+=e,this.preview())},this.run=function(){var t=!0===this.isActive?"commander":"cursor";e[t].trigger(),e.update()},this.trigger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.query,t="".concat(e).split(":")[0].toLowerCase(),i="".concat(e).substr(t.length+1);if(!this.actives[t])return console.warn("Unknown message: ".concat(e)),void this.stop();console.info("Commander",e),this.actives[t](i,!0),this.history.push(e),this.historyIndex=this.history.length,this.stop()},this.preview=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.query,t="".concat(e).split(":")[0].toLowerCase(),i="".concat(e).substr(t.length+1);this.passives[t]&&this.passives[t](i,!1)},this.onKeyDown=function(t){if((t.metaKey||t.ctrlKey)&&"Backspace"===t.key)return e.reset(),void t.preventDefault();if(191===t.keyCode&&(t.metaKey||t.ctrlKey))return e.cursor.comment(),void t.preventDefault();if(67===t.keyCode&&(t.metaKey||t.ctrlKey))return e.cursor.copy(),void t.preventDefault();if(88===t.keyCode&&(t.metaKey||t.ctrlKey))return e.cursor.cut(),void t.preventDefault();if(86===t.keyCode&&(t.metaKey||t.ctrlKey)&&t.shiftKey)return e.cursor.paste(!0),void t.preventDefault();if(86===t.keyCode&&(t.metaKey||t.ctrlKey))return e.cursor.paste(!1),void t.preventDefault();if(65===t.keyCode&&(t.metaKey||t.ctrlKey))return e.cursor.selectAll(),void t.preventDefault();if(90===t.keyCode&&(t.metaKey||t.ctrlKey)&&t.shiftKey)return e.history.redo(),void t.preventDefault();if(90===t.keyCode&&(t.metaKey||t.ctrlKey))return e.history.undo(),void t.preventDefault();if(38!==t.keyCode)if(40!==t.keyCode)if(37!==t.keyCode)if(39!==t.keyCode){if(9===t.keyCode)return e.toggleHardmode(),void t.preventDefault();if(!t.metaKey&&!t.ctrlKey)return" "===t.key&&0===e.cursor.mode?(e.clock.togglePlay(),void t.preventDefault()):"Escape"===t.key?(e.toggleGuide(!1),e.commander.stop(),e.clear(),e.isPaused=!1,void e.cursor.reset()):"Backspace"===t.key?(e[!0===this.isActive?"commander":"cursor"].erase(),void t.preventDefault()):"]"===t.key?(e.modGrid(1,0),void t.preventDefault()):"["===t.key?(e.modGrid(-1,0),void t.preventDefault()):"}"===t.key?(e.modGrid(0,1),void t.preventDefault()):"{"===t.key?(e.modGrid(0,-1),void t.preventDefault()):">"===t.key?(e.clock.mod(1),void t.preventDefault()):"<"===t.key?(e.clock.mod(-1),void t.preventDefault()):void e[!0===this.isActive?"commander":"cursor"].write(t.key)}else this.onArrowRight(t.shiftKey,t.metaKey||t.ctrlKey,t.altKey);else this.onArrowLeft(t.shiftKey,t.metaKey||t.ctrlKey,t.altKey);else this.onArrowDown(t.shiftKey,t.metaKey||t.ctrlKey,t.altKey);else this.onArrowUp(t.shiftKey,t.metaKey||t.ctrlKey,t.altKey)},this.onKeyUp=function(t){e.update()},this.onArrowUp=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!0===this.isActive)return this.historyIndex-=this.historyIndex>0?1:0,void this.start(this.history[this.historyIndex]);var o=i?e.grid.h:1;e.toggleGuide(!1),r?e.cursor.drag(0,o):t?e.cursor.scale(0,o):e.cursor.move(0,o)},this.onArrowDown=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!0===this.isActive)return this.historyIndex+=this.historyIndex<this.history.length?1:0,void this.start(this.history[this.historyIndex]);var o=i?e.grid.h:1;e.toggleGuide(!1),r?e.cursor.drag(0,-o):t?e.cursor.scale(0,-o):e.cursor.move(0,-o)},this.onArrowLeft=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=i?e.grid.w:1;e.toggleGuide(!1),r?e.cursor.drag(-o,0):t?e.cursor.scale(-o,0):e.cursor.move(-o,0)},this.onArrowRight=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=i?e.grid.w:1;e.toggleGuide(!1),r?e.cursor.drag(o,0):t?e.cursor.scale(o,0):e.cursor.move(o,0)},document.onkeydown=function(e){t.onKeyDown(e)},document.onkeyup=function(e){t.onKeyUp(e)},this.toString=function(){return"".concat(this.query)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"g5I+":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"sNrv":[function(require,module,exports) {
var process = require("process");
var r=require("process");function t(r,t){for(var e=0,n=r.length-1;n>=0;n--){var s=r[n];"."===s?r.splice(n,1):".."===s?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,n=function(r){return e.exec(r).slice(1)};function s(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var e="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var i=o>=0?arguments[o]:r.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,n="/"===i.charAt(0))}return(n?"/":"")+(e=t(s(e.split("/"),function(r){return!!r}),!n).join("/"))||"."},exports.normalize=function(r){var e=exports.isAbsolute(r),n="/"===o(r,-1);return(r=t(s(r.split("/"),function(r){return!!r}),!e).join("/"))||e||(r="."),r&&n&&(r+="/"),(e?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(s(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),s=e(t.split("/")),o=Math.min(n.length,s.length),i=o,u=0;u<o;u++)if(n[u]!==s[u]){i=u;break}var l=[];for(u=i;u<n.length;u++)l.push("..");return(l=l.concat(s.slice(i))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){var t=n(r),e=t[0],s=t[1];return e||s?(s&&(s=s.substr(0,s.length-1)),e+s):"."},exports.basename=function(r,t){var e=n(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return n(r)[3]};var o="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
},{"process":"g5I+"}],"8JJr":[function(require,module,exports) {
"use strict";function t(t){require("path");this.isPaused=!0,this.timer=null,this.isPuppet=!1,this.speed={value:120,target:120},this.start=function(){this.setTimer(120),this.play()},this.touch=function(){this.stop(),t.run()},this.run=function(){this.speed.target!==this.speed.value&&this.set(this.speed.value+(this.speed.value<this.speed.target?1:-1),null,!0)},this.set=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&(this.speed.value=s(t,60,300)),e&&(this.speed.target=s(e,60,300)),!0===i&&this.setTimer(this.speed.value)},this.mod=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.set(null,this.speed.target+e):(this.set(this.speed.value+e,this.speed.value+e,!0),t.update())},this.togglePlay=function(){1!==t.cursor.mode?!0===this.isPaused?this.play():this.stop():t.cursor.move(1,0)},this.play=function(){if(this.isPaused){if(console.log("Clock","Play"),this.isPaused=!1,this.isPuppet)return console.warn("External Midi control");this.set(this.speed.target,this.speed.target,!0)}else console.warn("Already playing")},this.stop=function(){if(this.isPaused)console.warn("Already stopped");else{if(console.log("Clock","Stop"),t.io.midi.silence(),this.isPaused=!0,this.isPuppet)return console.warn("External Midi control");this.clearTimer()}};var e={count:0,last:null,timer:null};function s(t,e,s){return t<e?e:t>s?s:t}this.tap=function(){var s=this;e.last=performance.now(),this.isPuppet||(console.log("Clock","Puppeteering starts.."),this.isPuppet=!0,this.clearTimer(),e.timer=setInterval(function(){performance.now()-e.last<2e3||s.untap()},2e3)),this.isPaused||(e.count=e.count+1,e.count%6==0&&(t.run(),e.count=0))},this.untap=function(){console.log("Clock","Puppeteering stops.."),clearInterval(e.timer),this.isPuppet=!1,e.count=1,e.last=null,this.setTimer(this.speed.value)},this.setTimer=function(e){this.clearTimer(),this.timer=setInterval(function(){t.run()},6e4/e/4)},this.clearTimer=function(){this.timer,this.timer=null},this.setFrame=function(e){isNaN(e)||(t.orca.f=s(e,0,9999999))},this.resetFrame=function(){t.orca.f=0},this.toString=function(){var e=this.speed.target-this.speed.value,s=Math.abs(e)>5?e>0?"+".concat(e):e:"",i=this.isPuppet?"midi":"".concat(this.speed.value).concat(s),n=0===e&&t.orca.f%4==0?"*":"";return"".concat(i).concat(n)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{"path":"sNrv"}],"KVVd":[function(require,module,exports) {

},{}],"GVK8":[function(require,module,exports) {
var global = arguments[3];
var define;
var o,e=arguments[3];!function(n){var r="object"==typeof exports&&exports&&!exports.nodeType&&exports,t="object"==typeof module&&module&&!module.nodeType&&module,u="object"==typeof e&&e;u.global!==u&&u.window!==u&&u.self!==u||(n=u);var i,f,c=2147483647,l=36,s=1,p=26,a=38,d=700,h=72,v=128,g="-",w=/^xn--/,x=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=l-s,b=Math.floor,j=String.fromCharCode;function A(o){throw new RangeError(m[o])}function I(o,e){for(var n=o.length,r=[];n--;)r[n]=e(o[n]);return r}function E(o,e){var n=o.split("@"),r="";return n.length>1&&(r=n[0]+"@",o=n[1]),r+I((o=o.replace(y,".")).split("."),e).join(".")}function F(o){for(var e,n,r=[],t=0,u=o.length;t<u;)(e=o.charCodeAt(t++))>=55296&&e<=56319&&t<u?56320==(64512&(n=o.charCodeAt(t++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),t--):r.push(e);return r}function O(o){return I(o,function(o){var e="";return o>65535&&(e+=j((o-=65536)>>>10&1023|55296),o=56320|1023&o),e+=j(o)}).join("")}function S(o,e){return o+22+75*(o<26)-((0!=e)<<5)}function T(o,e,n){var r=0;for(o=n?b(o/d):o>>1,o+=b(o/e);o>C*p>>1;r+=l)o=b(o/C);return b(r+(C+1)*o/(o+a))}function L(o){var e,n,r,t,u,i,f,a,d,w,x,y=[],m=o.length,C=0,j=v,I=h;for((n=o.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)o.charCodeAt(r)>=128&&A("not-basic"),y.push(o.charCodeAt(r));for(t=n>0?n+1:0;t<m;){for(u=C,i=1,f=l;t>=m&&A("invalid-input"),((a=(x=o.charCodeAt(t++))-48<10?x-22:x-65<26?x-65:x-97<26?x-97:l)>=l||a>b((c-C)/i))&&A("overflow"),C+=a*i,!(a<(d=f<=I?s:f>=I+p?p:f-I));f+=l)i>b(c/(w=l-d))&&A("overflow"),i*=w;I=T(C-u,e=y.length+1,0==u),b(C/e)>c-j&&A("overflow"),j+=b(C/e),C%=e,y.splice(C++,0,j)}return O(y)}function M(o){var e,n,r,t,u,i,f,a,d,w,x,y,m,C,I,E=[];for(y=(o=F(o)).length,e=v,n=0,u=h,i=0;i<y;++i)(x=o[i])<128&&E.push(j(x));for(r=t=E.length,t&&E.push(g);r<y;){for(f=c,i=0;i<y;++i)(x=o[i])>=e&&x<f&&(f=x);for(f-e>b((c-n)/(m=r+1))&&A("overflow"),n+=(f-e)*m,e=f,i=0;i<y;++i)if((x=o[i])<e&&++n>c&&A("overflow"),x==e){for(a=n,d=l;!(a<(w=d<=u?s:d>=u+p?p:d-u));d+=l)I=a-w,C=l-w,E.push(j(S(w+I%C,0))),a=b(I/C);E.push(j(S(a,0))),u=T(n,m,r==t),n=0,++r}++n,++e}return E.join("")}if(i={version:"1.4.1",ucs2:{decode:F,encode:O},decode:L,encode:M,toASCII:function(o){return E(o,function(o){return x.test(o)?"xn--"+M(o):o})},toUnicode:function(o){return E(o,function(o){return w.test(o)?L(o.slice(4).toLowerCase()):o})}},"function"==typeof o&&"object"==typeof o.amd&&o.amd)o("punycode",function(){return i});else if(r&&t)if(module.exports==r)t.exports=i;else for(f in i)i.hasOwnProperty(f)&&(r[f]=i[f]);else n.punycode=i}(this);
},{}],"3oHu":[function(require,module,exports) {
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};
},{}],"ObZ4":[function(require,module,exports) {
"use strict";function r(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(t,n,o,a){n=n||"&",o=o||"=";var s={};if("string"!=typeof t||0===t.length)return s;var p=/\+/g;t=t.split(n);var u=1e3;a&&"number"==typeof a.maxKeys&&(u=a.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var i=0;i<c;++i){var y,l,f,v,b=t[i].replace(p,"%20"),d=b.indexOf(o);d>=0?(y=b.substr(0,d),l=b.substr(d+1)):(y=b,l=""),f=decodeURIComponent(y),v=decodeURIComponent(l),r(s,f)?e(s[f])?s[f].push(v):s[f]=[s[f],v]:s[f]=v}return s};var e=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],"XK8a":[function(require,module,exports) {
"use strict";var n=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};module.exports=function(o,u,c,a){return u=u||"&",c=c||"=",null===o&&(o=void 0),"object"==typeof o?r(t(o),function(t){var a=encodeURIComponent(n(t))+c;return e(o[t])?r(o[t],function(e){return a+encodeURIComponent(n(e))}).join(u):a+encodeURIComponent(n(o[t]))}).join(u):a?encodeURIComponent(n(a))+c+encodeURIComponent(n(o)):""};var e=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)};function r(n,e){if(n.map)return n.map(e);for(var r=[],t=0;t<n.length;t++)r.push(e(n[t],t));return r}var t=Object.keys||function(n){var e=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.push(r);return e};
},{}],"SF0R":[function(require,module,exports) {
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":"ObZ4","./encode":"XK8a"}],"j37I":[function(require,module,exports) {
"use strict";var t=require("punycode"),s=require("./util");function h(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=b,exports.resolve=O,exports.resolveObject=d,exports.format=q,exports.Url=h;var e=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,r=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r","\n","\t"],n=["{","}","|","\\","^","`"].concat(o),i=["'"].concat(n),l=["%","/","?",";","#"].concat(i),p=["/","?","#"],c=255,u=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=require("querystring");function b(t,e,a){if(t&&s.isObject(t)&&t instanceof h)return t;var r=new h;return r.parse(t,e,a),r}function q(t){return s.isString(t)&&(t=b(t)),t instanceof h?t.format():h.prototype.format.call(t)}function O(t,s){return b(t,!1,!0).resolve(s)}function d(t,s){return t?b(t,!1,!0).resolveObject(s):s}h.prototype.parse=function(h,a,o){if(!s.isString(h))throw new TypeError("Parameter 'url' must be a string, not "+typeof h);var n=h.indexOf("?"),b=-1!==n&&n<h.indexOf("#")?"?":"#",q=h.split(b);q[0]=q[0].replace(/\\/g,"/");var O=h=q.join(b);if(O=O.trim(),!o&&1===h.split("#").length){var d=r.exec(O);if(d)return this.path=O,this.href=O,this.pathname=d[1],d[2]?(this.search=d[2],this.query=a?y.parse(this.search.substr(1)):this.search.substr(1)):a&&(this.search="",this.query={}),this}var j=e.exec(O);if(j){var x=(j=j[0]).toLowerCase();this.protocol=x,O=O.substr(j.length)}if(o||j||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===O.substr(0,2);!A||j&&v[j]||(O=O.substr(2),this.slashes=!0)}if(!v[j]&&(A||j&&!g[j])){for(var C,I,w=-1,U=0;U<p.length;U++){-1!==(k=O.indexOf(p[U]))&&(-1===w||k<w)&&(w=k)}-1!==(I=-1===w?O.lastIndexOf("@"):O.lastIndexOf("@",w))&&(C=O.slice(0,I),O=O.slice(I+1),this.auth=decodeURIComponent(C)),w=-1;for(U=0;U<l.length;U++){var k;-1!==(k=O.indexOf(l[U]))&&(-1===w||k<w)&&(w=k)}-1===w&&(w=O.length),this.host=O.slice(0,w),O=O.slice(w),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var R=this.hostname.split(/\./),S=(U=0,R.length);U<S;U++){var $=R[U];if($&&!$.match(u)){for(var z="",H=0,L=$.length;H<L;H++)$.charCodeAt(H)>127?z+="x":z+=$[H];if(!z.match(u)){var Z=R.slice(0,U),_=R.slice(U+1),E=$.match(f);E&&(Z.push(E[1]),_.unshift(E[2])),_.length&&(O="/"+_.join(".")+O),this.hostname=Z.join(".");break}}}this.hostname.length>c?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=t.toASCII(this.hostname));var P=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+P,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==O[0]&&(O="/"+O))}if(!m[x])for(U=0,S=i.length;U<S;U++){var B=i[U];if(-1!==O.indexOf(B)){var D=encodeURIComponent(B);D===B&&(D=escape(B)),O=O.split(B).join(D)}}var F=O.indexOf("#");-1!==F&&(this.hash=O.substr(F),O=O.slice(0,F));var G=O.indexOf("?");if(-1!==G?(this.search=O.substr(G),this.query=O.substr(G+1),a&&(this.query=y.parse(this.query)),O=O.slice(0,G)):a&&(this.search="",this.query={}),O&&(this.pathname=O),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var J=this.search||"";this.path=P+J}return this.href=this.format(),this},h.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var h=this.protocol||"",e=this.pathname||"",a=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var n=this.search||o&&"?"+o||"";return h&&":"!==h.substr(-1)&&(h+=":"),this.slashes||(!h||g[h])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),a&&"#"!==a.charAt(0)&&(a="#"+a),n&&"?"!==n.charAt(0)&&(n="?"+n),h+r+(e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(n=n.replace("#","%23"))+a},h.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},h.prototype.resolveObject=function(t){if(s.isString(t)){var e=new h;e.parse(t,!1,!0),t=e}for(var a=new h,r=Object.keys(this),o=0;o<r.length;o++){var n=r[o];a[n]=this[n]}if(a.hash=t.hash,""===t.href)return a.href=a.format(),a;if(t.slashes&&!t.protocol){for(var i=Object.keys(t),l=0;l<i.length;l++){var p=i[l];"protocol"!==p&&(a[p]=t[p])}return g[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(t.protocol&&t.protocol!==a.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),u=0;u<c.length;u++){var f=c[u];a[f]=t[f]}return a.href=a.format(),a}if(a.protocol=t.protocol,t.host||v[t.protocol])a.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),a.pathname=m.join("/")}if(a.search=t.search,a.query=t.query,a.host=t.host||"",a.auth=t.auth,a.hostname=t.hostname||t.host,a.port=t.port,a.pathname||a.search){var y=a.pathname||"",b=a.search||"";a.path=y+b}return a.slashes=a.slashes||t.slashes,a.href=a.format(),a}var q=a.pathname&&"/"===a.pathname.charAt(0),O=t.host||t.pathname&&"/"===t.pathname.charAt(0),d=O||q||a.host&&t.pathname,j=d,x=a.pathname&&a.pathname.split("/")||[],A=(m=t.pathname&&t.pathname.split("/")||[],a.protocol&&!g[a.protocol]);if(A&&(a.hostname="",a.port=null,a.host&&(""===x[0]?x[0]=a.host:x.unshift(a.host)),a.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),d=d&&(""===m[0]||""===x[0])),O)a.host=t.host||""===t.host?t.host:a.host,a.hostname=t.hostname||""===t.hostname?t.hostname:a.hostname,a.search=t.search,a.query=t.query,x=m;else if(m.length)x||(x=[]),x.pop(),x=x.concat(m),a.search=t.search,a.query=t.query;else if(!s.isNullOrUndefined(t.search)){if(A)a.hostname=a.host=x.shift(),(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift());return a.search=t.search,a.query=t.query,s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!x.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var C=x.slice(-1)[0],I=(a.host||t.host||x.length>1)&&("."===C||".."===C)||""===C,w=0,U=x.length;U>=0;U--)"."===(C=x[U])?x.splice(U,1):".."===C?(x.splice(U,1),w++):w&&(x.splice(U,1),w--);if(!d&&!j)for(;w--;w)x.unshift("..");!d||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),I&&"/"!==x.join("/").substr(-1)&&x.push("");var k,N=""===x[0]||x[0]&&"/"===x[0].charAt(0);A&&(a.hostname=a.host=N?"":x.length?x.shift():"",(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift()));return(d=d||a.host&&x.length)&&!N&&x.unshift(""),x.length?a.pathname=x.join("/"):(a.pathname=null,a.path=null),s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=t.auth||a.auth,a.slashes=a.slashes||t.slashes,a.href=a.format(),a},h.prototype.parseHost=function(){var t=this.host,s=a.exec(t);s&&(":"!==(s=s[0])&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};
},{"punycode":"GVK8","./util":"3oHu","querystring":"SF0R"}],"udKt":[function(require,module,exports) {
"use strict";function e(e){var t=require("fs"),n=require("url"),o=this;function i(e){return!!e&&(!!e.background&&(!!e.f_high&&(!!e.f_med&&(!!e.f_low&&(!!e.f_inv&&(!!e.b_high&&(!!e.b_med&&(!!e.b_low&&!!e.b_inv))))))))}function r(e){try{return JSON.parse(e),!0}catch(t){return!1}}this.active=e,this.el=document.createElement("style"),this.el.type="text/css",this.install=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,t=arguments.length>1?arguments[1]:void 0;e.appendChild(this.el),this.callback=t},this.start=function(){if(console.log("Theme","Starting.."),r(localStorage.theme)){var t=JSON.parse(localStorage.theme);if(i(t))return console.log("Theme","Loading localStorage.."),void this.load(t)}this.load(e)},this.load=function(e){var t=function(e){if(e&&e.background)return e;if(e&&e.data)return e.data;if(e&&r(e))return JSON.parse(e);if(e&&function(e){try{return(new DOMParser).parseFromString(e,"text/xml"),!0}catch(t){return!1}}(e))return function(e){var t=(new DOMParser).parseFromString(e,"text/xml");try{return{background:t.getElementById("background").getAttribute("fill"),f_high:t.getElementById("f_high").getAttribute("fill"),f_med:t.getElementById("f_med").getAttribute("fill"),f_low:t.getElementById("f_low").getAttribute("fill"),f_inv:t.getElementById("f_inv").getAttribute("fill"),b_high:t.getElementById("b_high").getAttribute("fill"),b_med:t.getElementById("b_med").getAttribute("fill"),b_low:t.getElementById("b_low").getAttribute("fill"),b_inv:t.getElementById("b_inv").getAttribute("fill")}}catch(n){console.warn("Theme","Incomplete SVG Theme",n)}}(e);return null}(e);i(t)?(console.log("Theme","Loaded theme!"),this.el.innerHTML=":root { --background: ".concat(t.background,"; --f_high: ").concat(t.f_high,"; --f_med: ").concat(t.f_med,"; --f_low: ").concat(t.f_low,"; --f_inv: ").concat(t.f_inv,"; --b_high: ").concat(t.b_high,"; --b_med: ").concat(t.b_med,"; --b_low: ").concat(t.b_low,"; --b_inv: ").concat(t.b_inv,"; }"),localStorage.setItem("theme",JSON.stringify(t)),this.active=t,this.callback&&this.callback()):console.warn("Theme","Not a theme",t)},this.reset=function(){this.load(e)},this.setImage=function(e){document.body.style.backgroundImage=e&&t.existsSync(e)&&document.body.style.backgroundImage!=="url(".concat(n.pathToFileURL(e),")")?"url(".concat(n.pathToFileURL(e),")"):""},this.set=function(e,t){this.active[e]?/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test("#"+t)?this.active[e]=t:console.warn("Theme","Not a color "+t):console.warn("Theme","Unknown key "+e)},this.drag=function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},this.drop=function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.files[0];if(t&&t.name)if(t.name.indexOf(".thm")<0&&t.name.indexOf(".svg")<0)console.warn("Theme","Skipped, not a theme");else{var n=new FileReader;n.onload=function(e){o.load(e.target.result)},n.readAsText(t)}else console.warn("Theme","Unnamed file.")},this.open=function(){},window.addEventListener("dragover",this.drag),window.addEventListener("drop",this.drop)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{"fs":"KVVd","url":"j37I"}],"152Z":[function(require,module,exports) {
"use strict";function e(){require("fs");this.menu={default:{}},this.mode="default",this.start=function(){},this.add=function(e,t,r,s,i){this.menu[e]||(this.menu[e]={}),this.menu[e][t]||(this.menu[e][t]={}),this.menu[e][t][r]={fn:s,accelerator:i}},this.addRole=function(e,t,r){this.menu[e]||(this.menu[e]={}),this.menu[e][t]||(this.menu[e][t]={}),this.menu[e][t][r]={role:r}},this.addSpacer=function(e,t,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"separator";this.menu[e]||(this.menu[e]={}),this.menu[e][t]||(this.menu[e][t]={}),this.menu[e][t][r]={type:s}},this.clearCat=function(e,t){this.menu[e]&&(this.menu[e][t]={})},this.set=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";this.mode=e,this.commit()},this.format=function(){var e=[],t=this.menu[this.mode];for(var r in t){var s=[];for(var i in t[r]){var n=t[r][i];n.role?s.push({role:n.role}):n.type?s.push({type:n.type}):s.push({label:i,accelerator:n.accelerator,click:n.fn})}e.push({label:r,submenu:s})}return e},this.commit=function(){console.log("Controller","Changing..")},this.accelerator=function(e,t){var r={basic:null,ctrl:null};for(cat in t){var s=t[cat];for(var i in s.submenu){var n=s.submenu[i];n.role||(r.basic=n.accelerator.toLowerCase()===e.toLowerCase()?n.label.toUpperCase().replace("TOGGLE ","").substr(0,8).trim():r.basic,r.ctrl=n.accelerator.toLowerCase()===("CmdOrCtrl+"+e).toLowerCase()?n.label.toUpperCase().replace("TOGGLE ","").substr(0,8).trim():r.ctrl)}}return r},this.docs=function(){console.log(this.menu.default)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{"fs":"KVVd"}],"se2z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var t=l(require("../../core/orca.js")),i=l(require("../../core/io.js")),s=l(require("./cursor.js")),e=l(require("./source.js")),h=l(require("./history.js")),r=l(require("./commander.js")),o=l(require("./clock.js")),c=l(require("./lib/theme.js")),a=l(require("./lib/controller.js")),n=l(require("../../core/library.js"));function l(t){return t&&t.__esModule?t:{default:t}}function u(){function l(t,i,s){return t<i?i:t>s?s:t}this.version=132,this.library=n.default,this.orca=new t.default(this),this.io=new i.default(this),this.cursor=new s.default(this),this.source=new e.default(this),this.commander=new r.default(this),this.clock=new o.default(this),this.history=new h.default,this.controller=new a.default,this.theme=new c.default({background:"#000000",f_high:"#ffffff",f_med:"#777777",f_low:"#444444",f_inv:"#000000",b_high:"#eeeeee",b_med:"#72dec2",b_low:"#444444",b_inv:"#ffb545"}),this.el=document.createElement("canvas"),this.context=this.el.getContext("2d"),this.grid={w:8,h:8},this.tile={w:+localStorage.getItem("tilew")||10,h:+localStorage.getItem("tileh")||15},this.scale=window.devicePixelRatio,this.hardmode=!0,this.guide=!1,this.install=function(t){t.appendChild(this.el),this.theme.install(t)},this.start=function(){this.theme.start(),this.io.start(),this.source.start(),this.history.bind(this.orca,"s"),this.history.record(this.orca.s),this.clock.start(),this.update(),this.el.className="ready",this.toggleGuide(!0===this.reqGuide())},this.run=function(){this.io.clear(),this.clock.run(),this.source.run(),this.orca.run(),this.io.run(),this.update()},this.update=function(){!0!==document.hidden&&(this.clear(),this.ports=this.findPorts(),this.drawProgram(),this.drawInterface(),this.drawGuide())},this.reset=function(){this.theme.reset()},this.setGrid=function(t,i){this.grid.w=t,this.grid.h=i,this.update()},this.toggleRetina=function(){this.scale=1===this.scale?window.devicePixelRatio:1,console.log("Terminal","Pixel resolution: ".concat(this.scale)),this.resize(!0)},this.toggleHardmode=function(){this.hardmode=!0!==this.hardmode,console.log("Terminal","Hardmode: ".concat(this.hardmode)),this.update()},this.toggleGuide=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=null!==t?t:!0!==this.guide;i!==this.guide&&(console.log("Terminal","Toggle Guide: ".concat(i)),this.guide=i,this.update())},this.reqGuide=function(){var t=this.source.recall("session");return console.log("Terminal","Session #"+t),!t||parseInt(t)<20},this.modGrid=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=l(this.grid.w+t,4,16),e=l(this.grid.h+i,4,16);this.setGrid(s,e)},this.modZoom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.tile={w:i?10:this.tile.w*(t+1),h:i?15:this.tile.h*(t+1)},localStorage.setItem("tilew",this.tile.w),localStorage.setItem("tileh",this.tile.h),this.resize(!0)},this.isCursor=function(t,i){return t===this.cursor.x&&i===this.cursor.y},this.isSelection=function(t,i){return!!(t>=this.cursor.x&&t<this.cursor.x+this.cursor.w&&i>=this.cursor.y&&i<this.cursor.y+this.cursor.h)},this.isMarker=function(t,i){return t%this.grid.w==0&&i%this.grid.h==0},this.isNear=function(t,i){return t>parseInt(this.cursor.x/this.grid.w)*this.grid.w-1&&t<=(1+parseInt(this.cursor.x/this.grid.w))*this.grid.w&&i>parseInt(this.cursor.y/this.grid.h)*this.grid.h-1&&i<=(1+parseInt(this.cursor.y/this.grid.h))*this.grid.h},this.isAligned=function(t,i){return t===this.cursor.x||i===this.cursor.y},this.isEdge=function(t,i){return 0===t||0===i||t===this.orca.w-1||i===this.orca.h-1},this.isLocals=function(t,i){return!0===this.isNear(t,i)&&!0==(t%(this.grid.w/4)==0&&i%(this.grid.h/4)==0)},this.portAt=function(t,i){return this.ports[this.orca.indexAt(t,i)]},this.findPorts=function(){var t=new Array(this.orca.w*this.orca.h-1);for(var i in this.orca.runtime){var s=this.orca.runtime[i];if(!this.orca.lockAt(s.x,s.y)){var e=s.getPorts();for(var h in e){var r=e[h];t[this.orca.indexAt(r[0],r[1])]=r}}}return t},this.makeGlyph=function(t,i){var s=this.orca.glyphAt(t,i);return"."!==s?s:this.isCursor(t,i)?this.isPaused?"~":"@":this.isMarker(t,i)?"+":s},this.makeStyle=function(t,i,s,e){var h=this.orca.lockAt(t,i),r=this.ports[this.orca.indexAt(t,i)];return this.isSelection(t,i)?4:r||"."!==s||!1!==h||!0!==this.hardmode?e===s&&!1===h&&"."!==e?6:"*"===s&&!1===h?6:r?r[2]:!0===h?5:9:!0===this.isLocals(t,i)?9:7},this.makeTheme=function(t){return 0===t?{bg:this.theme.active.b_med,fg:this.theme.active.f_low}:1===t?{fg:this.theme.active.b_med}:2===t?{fg:this.theme.active.b_high}:3===t?{bg:this.theme.active.b_high,fg:this.theme.active.f_low}:4===t?{bg:this.theme.active.b_inv,fg:this.theme.active.f_inv}:5===t?{fg:this.theme.active.f_med}:6===t?{fg:this.theme.active.b_inv}:7===t?{}:8===t?{bg:this.theme.active.b_low,fg:this.theme.active.f_high}:10===t?{bg:this.theme.active.background,fg:this.theme.active.f_high}:{fg:this.theme.active.f_low}},this.clear=function(){this.context.clearRect(0,0,this.el.width,this.el.height)},this.drawProgram=function(){for(var t=this.cursor.read(),i=0;i<this.orca.h;i++)for(var s=0;s<this.orca.w;s++){var e=this.makeGlyph(s,i),h=this.makeStyle(s,i,e,t);this.drawSprite(s,i,e,h)}},this.drawInterface=function(){var t,i,s,e=this.grid.w,h=Object.keys(this.orca.variables).join("");this.orca.h,this.orca.h;!0===this.commander.isActive?this.write("".concat(this.commander.query).concat(this.orca.f%2==0?"_":""),0*e,this.orca.h+1,2*this.grid.w):(this.write("".concat(this.cursor.x,",").concat(this.cursor.y).concat(1===this.cursor.mode?"+":""),0*e,this.orca.h+1,this.grid.w,1===this.cursor.mode?1:2),this.write("".concat(this.cursor.w,":").concat(this.cursor.h),1*e,this.orca.h+1,this.grid.w),this.write("".concat(this.cursor.inspect()),2*e,this.orca.h+1,this.grid.w),this.write("".concat(this.orca.f,"f").concat(this.isPaused?"*":""),3*e,this.orca.h+1,this.grid.w)),this.write("".concat(this.orca.w,"x").concat(this.orca.h),0*e,this.orca.h,this.grid.w),this.write("".concat(this.grid.w,"/").concat(this.grid.h).concat(10!==this.tile.w?" "+(this.tile.w/10).toFixed(1):""),1*e,this.orca.h,this.grid.w),this.write("".concat(this.clock),3*e,this.orca.h,this.grid.w,this.io.midi.inputIndex>-1?3:2),this.orca.f<15?(this.write("".concat(this.io.midi),4*e,this.orca.h,2*this.grid.w),this.write("Version ".concat(this.version),4*e,this.orca.h+1,2*this.grid.w)):(this.write("".concat(this.io.inspect(this.grid.w)),4*e,this.orca.h,this.grid.w),this.write("".concat((t=h,i=this.orca.f,s=this.grid.w,t.length<s?t:t.slice(i%t.length)+t.substr(0,i%t.length))),4*e,this.orca.h+1,this.grid.w))},this.drawGuide=function(){if(!0===this.guide){var t=Object.keys(this.library).filter(function(t){return isNaN(t)});for(var i in t){var s=t[i],e=(new this.library[s]).info,h=this.orca.h-4,r=32*Math.floor(parseInt(i)/h)+2,o=parseInt(i)%h+2;this.write(s,r,o,99,3),this.write(e,r+2,o,99,10)}}},this.drawSprite=function(t,i,s,e){var h=this.makeTheme(e);if(h.bg){var r={x:t*this.tile.w*this.scale,y:i*this.tile.h*this.scale,w:this.tile.w*this.scale,h:this.tile.h*this.scale};this.context.fillStyle=h.bg,this.context.fillRect(r.x,r.y,r.w,r.h)}if(h.fg){var o={x:(t+.5)*this.tile.w*this.scale,y:(i+1)*this.tile.h*this.scale,w:this.tile.w*this.scale,h:this.tile.h*this.scale};this.context.fillStyle=h.fg,this.context.fillText(s,o.x,o.y)}},this.write=function(t,i,s){for(var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,r=0;r<t.length&&r<e-1;)this.drawSprite(i+r,s,t.substr(r,1),h),r+=1},this.fit=function(){},this.resize=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=window.innerWidth-60,s=window.innerHeight-(60+2*this.tile.h),e={w:Math.ceil(i/this.tile.w),h:Math.ceil(s/this.tile.h)};if(this.orca.w!==e.w||this.orca.h!==e.h||!1!==t){var h=this.orca.bounds();e.w<=h.w&&(e.w=h.w+1),e.h<=h.h&&(e.h=h.h+1),this.crop(e.w,e.h),this.cursor.x>=e.w&&(this.cursor.x=e.w-1),this.cursor.y>=e.h&&(this.cursor.y=e.h-1),console.log("Resized to: ".concat(e.w,"x").concat(e.h)),this.el.width=this.tile.w*this.orca.w*this.scale,this.el.height=(this.tile.h+this.tile.h/5)*this.orca.h*this.scale,this.el.style.width="".concat(Math.ceil(this.tile.w*this.orca.w),"px"),this.el.style.height="".concat(Math.ceil((this.tile.h+this.tile.h/5)*this.orca.h),"px"),this.context.textBaseline="bottom",this.context.textAlign="center",this.context.font="".concat(.75*this.tile.h*this.scale,"px input_mono_medium"),this.update()}},this.crop=function(t,i){var s=this,e="".concat(this.orca);i>this.orca.h?e="".concat(e).concat("\n".concat(".".repeat(this.orca.w)).repeat(i-this.orca.h)):i<this.orca.h&&(e="".concat(e).split("\n").slice(0,i-this.orca.h).join("\n").trim()),t>this.orca.w?e="".concat(e).split("\n").map(function(i){return i+".".repeat(t-s.orca.w)}).join("\n").trim():t<this.orca.w&&(e="".concat(e).split("\n").map(function(i){return i.substr(0,i.length+(t-s.orca.w))}).join("\n").trim()),this.history.reset(),this.orca.load(t,i,e,this.orca.f)},this.docs=function(){var t="",i=Object.keys(n.default).filter(function(t){return isNaN(t)});for(var s in i){var e=new this.library[i[s]],h=e.ports.input?Object.keys(e.ports.input).reduce(function(t,i,s){return t+" "+i},""):"";t+="- `".concat(e.glyph.toUpperCase(),"` **").concat(e.name,"**").concat(""!==h?"("+h.trim()+")":"",": ").concat(e.info,".\n")}return t},window.addEventListener("dragover",function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}),window.addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation();var i=t.dataTransfer.files[0],s=i.path?i.path:i.name;!s||s.indexOf(".orca")<0?console.log("Orca","Not a orca file"):terminal.source.read(s)}),window.onresize=function(t){}}
},{"../../core/orca.js":"cGtn","../../core/io.js":"8pgY","./cursor.js":"Fvl3","./source.js":"XlYJ","./history.js":"uqTP","./commander.js":"bxOt","./clock.js":"8JJr","./lib/theme.js":"udKt","./lib/controller.js":"152Z","../../core/library.js":"JmC8"}],"97BZ":[function(require,module,exports) {
var n=require("./orca/sources/scripts/terminal").default;console.log(n);var t=new n;window.onload=function(){function n(n){window.fetch(n).then(function(n){return n.text()}).then(function(n){var o=n.split("\n"),e=o[0].length,l=o.length,r=o.join("\n").trim(),a=t.orca.load(e,l,r);t.load(a)})}t.install(document.getElementById("orcaShell")),t.start(),document.getElementById("loadButton").onclick=function(){var t=window.prompt("enter orca url");t&&t.length&&n(t)};var o=window.location.hash;o.length&&n(o=decodeURIComponent(o.substring(1)))};
},{"./orca/sources/scripts/terminal":"se2z"}]},{},["97BZ"], null)
//# sourceMappingURL=/entry.99e9c7a3.js.map