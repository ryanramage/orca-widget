{"version":3,"sources":["orca/core/transpose.js","orca/core/operator.js","orca/core/library/_null.js","orca/core/library/a.js","orca/core/library/b.js","orca/core/library/c.js","orca/core/library/d.js","orca/core/library/e.js","orca/core/library/f.js","orca/core/library/g.js","orca/core/library/h.js","orca/core/library/i.js","orca/core/library/j.js","orca/core/library/k.js","orca/core/library/l.js","orca/core/library/m.js","orca/core/library/n.js","orca/core/library/o.js","orca/core/library/p.js","orca/core/library/q.js","orca/core/library/r.js","orca/core/library/s.js","orca/core/library/t.js","orca/core/library/u.js","orca/core/library/v.js","orca/core/library/w.js","orca/core/library/x.js","orca/core/library/y.js","orca/core/library/z.js","orca/core/library/_bang.js","orca/core/library/_comment.js","orca/core/library/_midi.js","orca/core/library/_mono.js","orca/core/library/_cc.js","orca/core/library/_udp.js","orca/core/library/_osc.js","orca/core/library/_keys.js","orca/core/library.js","orca/core/orca.js","orca/core/io/midi.js","orca/core/io/cc.js","orca/core/io/mono.js","orca/core/io/udp.js","orca/core/io/osc.js","orca/core/io.js","orca/sources/scripts/cursor.js","orca/sources/scripts/source.js","orca/sources/scripts/history.js","orca/sources/scripts/commander.js","node_modules/process/browser.js","node_modules/path-browserify/index.js","orca/sources/scripts/clock.js","node_modules/node-libs-browser/node_modules/punycode/punycode.js","node_modules/url/util.js","node_modules/querystring-es3/decode.js","node_modules/querystring-es3/encode.js","node_modules/querystring-es3/index.js","node_modules/url/url.js","orca/sources/scripts/lib/theme.js","orca/sources/scripts/lib/controller.js","orca/sources/scripts/terminal.js","entry.js"],"names":["Operator","orca","x","y","glyph","passive","clamp","v","min","max","name","draw","toUpperCase","info","ports","bang","listen","port","toValue","g","glyphAt","default","valueOf","output","write","requireUC","console","warn","b","run","force","id","lock","payload","operation","replace","erase","explode","move","offset","inBounds","collider","hasNeighbor","getPorts","a","push","charAt","substring","toLowerCase","reader","sensitive","value","length","transpose","n","o","note","octave","parseInt","indexOf","real","Object","keys","OperatorNull","call","OperatorA","keyOf","OperatorB","rate","mod","key","Math","floor","f","OperatorC","val","OperatorD","res","OperatorE","OperatorF","OperatorG","len","OperatorH","OperatorI","step","OperatorJ","OperatorK","valueIn","OperatorL","index","indexAt","seg","s","substr","OperatorM","OperatorN","OperatorO","read","OperatorP","OperatorQ","i","OperatorR","random","OperatorS","OperatorT","OperatorU","bucket","OperatorV","variables","OperatorW","OperatorX","OperatorY","OperatorZ","target","OperatorBang","OperatorComment","w","OperatorMidi","channel","velocity","rawOctave","rawNote","rawVelocity","isNaN","transposed","terminal","io","midi","send","OperatorMono","mono","OperatorCC","knob","rawValue","ceil","cc","OperatorUdp","msg","udp","OperatorOsc","path","osc","OCTAVE","OperatorKeys","_null","c","d","e","h","j","k","l","m","p","q","r","t","u","z","_bang","_comment","_midi","_mono","_cc","_udp","_osc","_keys","Orca","library","slice","locks","runtime","parse","operate","reset","Array","join","load","clean","isAllowed","string","str","trim","operator","cast","operators","release","lockAt","bounds","unlock","Number","isInteger","uc","operatorAt","filter","item","posAt","valueAt","format","reduce","acc","strip","toString","Midi","mode","outputIndex","inputIndex","outputs","inputs","stack","start","setup","clear","update","controller","clearCat","add","addSpacer","selectOutput","selectInput","commit","alive","played","trigger","down","outputDevice","silence","press","ticks","sendClock","bpm","frameFrag","clock","speed","clearTimeout","setTimeout","receive","data","tap","log","play","stop","inputDevice","onmidimessage","navigator","requestMIDIAccess","sysex","then","access","err","midiAccess","values","next","done","MidiCC","device","Mono","queue","Udp","options","select","Osc","tidalCycles","sonicPi","superCollider","IO","inspect","limit","grid","text","fill","chr","Cursor","block","moveTo","scale","scaleTo","resize","drag","cut","paste","selectAll","copy","getBlock","rows","clipboard","writeText","overlap","writeBlock","readText","split","history","record","eraseBlock","rotate","cols","cursor","isUC","find","pos","toggleMode","portAt","comment","rect","toRect","_y","line","_x","Source","increment","new","open","save","saveAs","revert","inject","loc","generate","commander","lines","map","char","fit","quit","verify","hasChanges","resume","recall","remember","localStorage","setItem","hasOwnProperty","getItem","forget","removeItem","locate","folder","fs","existsSync","basename","dirname","History","frames","host","bind","append","fork","undo","apply","redo","shift","last","Commander","isActive","query","historyIndex","passives","source","parts","actives","set","setFrame","theme","setImage","preview","tool","cmd","onKeyDown","event","metaKey","ctrlKey","preventDefault","keyCode","shiftKey","toggleHardmode","togglePlay","toggleGuide","isPaused","modGrid","onArrowRight","altKey","onArrowLeft","onArrowDown","onArrowUp","onKeyUp","skip","leap","document","onkeydown","onkeyup","cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","currentQueue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","Item","array","noop","nextTick","args","arguments","prototype","title","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","Clock","require","timer","isPuppet","setTimer","touch","clearTimer","pulse","count","performance","now","setInterval","untap","clearInterval","resetFrame","diff","_offset","abs","_message","_beat","obj","prop","qs","sep","eq","regexp","maxKeys","kstr","vstr","idx","decodeURIComponent","isArray","xs","stringifyPrimitive","isFinite","undefined","objectKeys","ks","encodeURIComponent","decode","encode","stringify","Theme","_default","url","themer","validate","json","background","f_high","f_med","f_low","f_inv","b_high","b_med","b_low","b_inv","isJson","JSON","error","active","el","createElement","type","install","body","callback","appendChild","storage","any","isHtml","DOMParser","parseFromString","extract","svg","getElementById","getAttribute","innerHTML","style","backgroundImage","pathToFileURL","test","stopPropagation","dataTransfer","dropEffect","drop","file","files","FileReader","onload","result","readAsText","window","addEventListener","Controller","menu","cat","label","fn","accelerator","addRole","role","submenu","option","click","basic","ctrl","docs","Terminal","context","getContext","tile","devicePixelRatio","hardmode","guide","className","reqGuide","hidden","findPorts","drawProgram","drawInterface","drawGuide","setGrid","toggleRetina","display","session","modZoom","isCursor","isSelection","isMarker","isNear","isAligned","isEdge","isLocals","makeGlyph","makeStyle","selection","isLocked","makeTheme","bg","fg","clearRect","width","height","drawSprite","col","toFixed","frame","bgrect","fillStyle","fillRect","fgrect","fillText","offsetX","offsetY","size","innerWidth","innerHeight","tiles","crop","textBaseline","textAlign","font","repeat","html","oper","input","onresize","fetch","resp","onclick","prompt","location","hash"],"mappings":"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","file":"entry.99e9c7a3.js","sourceRoot":"..","sourcesContent":["'use strict'\n\nexport default {\n  'A': 'A0',\n  'a': 'a0',\n  'B': 'B0',\n  'C': 'C0',\n  'c': 'c0',\n  'D': 'D0',\n  'd': 'd0',\n  'E': 'E0',\n  'F': 'F0',\n  'f': 'f0',\n  'G': 'G0',\n  'g': 'g0',\n  'H': 'A0',\n  'h': 'a0',\n  'I': 'B0',\n  'J': 'C1',\n  'j': 'c1',\n  'K': 'D1',\n  'k': 'd1',\n  'L': 'E1',\n  'M': 'F1',\n  'm': 'f1',\n  'N': 'G1',\n  'n': 'g1',\n  'O': 'A1',\n  'o': 'a1',\n  'P': 'B1',\n  'Q': 'C2',\n  'q': 'c2',\n  'R': 'D2',\n  'r': 'd2',\n  'S': 'E2',\n  'T': 'F2',\n  't': 'f2',\n  'U': 'G2',\n  'u': 'g2',\n  'V': 'A2',\n  'v': 'a2',\n  'W': 'B2',\n  'X': 'C3',\n  'x': 'c3',\n  'Y': 'D3',\n  'y': 'd3',\n  'Z': 'E3',\n  // Catch e\n  'e': 'F0',\n  'l': 'F1',\n  's': 'F2',\n  'z': 'F3',\n  // Catch b\n  'b': 'C1',\n  'i': 'C1',\n  'p': 'C2',\n  'w': 'C3'\n}\n","'use strict'\n\nimport transpose from './transpose.js'\n\nexport default function Operator (orca, x, y, glyph = '.', passive = false) {\n  this.name = 'unknown'\n  this.x = x\n  this.y = y\n  this.passive = passive\n  this.draw = passive\n  this.glyph = passive ? glyph.toUpperCase() : glyph\n  this.info = '--'\n  this.ports = { bang: !passive }\n\n  // Actions\n\n  this.listen = function (port, toValue = false) {\n    if (!port) { return (toValue ? 0 : '.') }\n    const g = orca.glyphAt(this.x + port.x, this.y + port.y)\n    const glyph = (g === '.' || g === '*') && port.default ? port.default : g\n    if (toValue) {\n      const min = port.clamp && port.clamp.min ? port.clamp.min : 0\n      const max = port.clamp && port.clamp.max ? port.clamp.max : 36\n      return clamp(orca.valueOf(glyph), min, max)\n    }\n    return glyph\n  }\n\n  this.output = function (g) {\n    if (!this.ports.output) { console.warn(this.name, 'Trying to output, but no port'); return }\n    if (!g) { return }\n    orca.write(this.x + this.ports.output.x, this.y + this.ports.output.y, this.requireUC() === true ? `${g}`.toUpperCase() : g)\n  }\n\n  this.bang = function (b) {\n    if (!this.ports.output) { console.warn(this.name, 'Trying to bang, but no port'); return }\n    orca.write(this.x + this.ports.output.x, this.y + this.ports.output.y, b === true ? '*' : '.')\n  }\n\n  // Phases\n\n  this.run = function (force = false) {\n    // Permissions\n    for (const id in this.ports) {\n      orca.lock(this.x + this.ports[id].x, this.y + this.ports[id].y)\n    }\n    this.draw = true\n    // Operate\n    const payload = this.operation(force)\n    if (this.ports.output) {\n      if (this.ports.output.bang === true) {\n        this.bang(payload)\n      } else {\n        this.output(payload)\n      }\n    }\n  }\n\n  this.operation = function () {\n\n  }\n\n  // Helpers\n\n  this.lock = function () {\n    orca.lock(this.x, this.y)\n  }\n\n  this.replace = function (g) {\n    orca.write(this.x, this.y, g)\n  }\n\n  this.erase = function () {\n    this.replace('.')\n  }\n\n  this.explode = function () {\n    this.replace('*')\n    // this.lock()\n  }\n\n  this.move = function (x, y) {\n    const offset = { x: this.x + x, y: this.y + y }\n    if (!orca.inBounds(offset.x, offset.y)) { this.explode(); return }\n    const collider = orca.glyphAt(offset.x, offset.y)\n    if (collider !== '*' && collider !== '.') { this.explode(); return }\n    this.erase()\n    this.x += x\n    this.y += y\n    this.replace(this.glyph)\n    this.lock()\n  }\n\n  this.hasNeighbor = function (g) {\n    if (orca.glyphAt(this.x + 1, this.y) === g) { return true }\n    if (orca.glyphAt(this.x - 1, this.y) === g) { return true }\n    if (orca.glyphAt(this.x, this.y + 1) === g) { return true }\n    if (orca.glyphAt(this.x, this.y - 1) === g) { return true }\n    return false\n  }\n\n  // Docs\n\n  this.getPorts = function () {\n    const a = []\n    if (this.draw === true) {\n      a.push([this.x, this.y, 0, `${this.name.charAt(0).toUpperCase() + this.name.substring(1).toLowerCase()}`])\n    }\n    if (!this.passive) { return a }\n    for (const id in this.ports) {\n      const port = this.ports[id]\n      a.push([this.x + port.x, this.y + port.y, port.x < 0 || port.y < 0 ? 1 : 2, `${this.glyph}-${id}`])\n    }\n    if (this.ports.output) {\n      const port = this.ports.output\n      a.push([this.x + port.x, this.y + port.y, port.reader || port.bang ? 8 : 3, `${this.glyph}-output`])\n    }\n    return a\n  }\n\n  this.requireUC = function (ports = this.ports) {\n    if (this.ports.output.sensitive !== true) { return false }\n    for (const id in ports) {\n      const value = this.listen(ports[id])\n      if (value.length !== 1) { continue }\n      if (value.toLowerCase() === value.toUpperCase()) { continue }\n      if (`${value}`.toUpperCase() === `${value}`) { return true }\n    }\n    return false\n  }\n\n  // Notes tools\n\n  this.transpose = function (n, o = 3) {\n    if (!transpose[n]) { return { note: n, octave: o } }\n    const note = transpose[n].charAt(0)\n    const octave = clamp(parseInt(transpose[n].charAt(1)) + o, 0, 8)\n    const value = ['C', 'c', 'D', 'd', 'E', 'F', 'f', 'G', 'g', 'A', 'a', 'B'].indexOf(note)\n    const id = clamp((octave * 12) + value, 0, 127)\n    const real = id < 89 ? Object.keys(transpose)[id - 45] : null\n    return { id, value, note, octave, real }\n  }\n\n  // Docs\n\n  function clamp (v, min, max) { return v < min ? min : v > max ? max : v }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorNull (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, '.', false)\n\n  this.name = 'null'\n  this.info = 'empty'\n\n  // Overwrite run, to disable draw.\n\n  this.run = function (force = false) {\n\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorA (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'a', passive)\n\n  this.name = 'add'\n  this.info = 'Outputs sum of inputs'\n\n  this.ports.a = { x: -1, y: 0 }\n  this.ports.b = { x: 1, y: 0 }\n  this.ports.output = { x: 0, y: 1, sensitive: true }\n\n  this.operation = function (force = false) {\n    const a = this.listen(this.ports.a, true)\n    const b = this.listen(this.ports.b, true)\n    return orca.keyOf(a + b)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorB (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'b', passive)\n\n  this.name = 'bounce'\n  this.info = 'Outputs values between inputs'\n\n  this.ports.rate = { x: -1, y: 0, clamp: { min: 1 } }\n  this.ports.mod = { x: 1, y: 0, default: '8' }\n  this.ports.output = { x: 0, y: 1, sensitive: true }\n\n  this.operation = function (force = false) {\n    const rate = this.listen(this.ports.rate, true)\n    const mod = this.listen(this.ports.mod, true) - 1\n    const key = Math.floor(orca.f / rate) % (mod * 2)\n    return orca.keyOf(key <= mod ? key : mod - (key - mod))\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorC (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'c', passive)\n\n  this.name = 'clock'\n  this.info = 'Outputs modulo of frame'\n\n  this.ports.rate = { x: -1, y: 0, clamp: { min: 1 } }\n  this.ports.mod = { x: 1, y: 0, default: '8' }\n  this.ports.output = { x: 0, y: 1, sensitive: true }\n\n  this.operation = function (force = false) {\n    const rate = this.listen(this.ports.rate, true)\n    const mod = this.listen(this.ports.mod, true)\n    const val = Math.floor(orca.f / rate) % mod\n    return orca.keyOf(val)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorD (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'd', passive)\n\n  this.name = 'delay'\n  this.info = 'Bangs on modulo of frame'\n\n  this.ports.rate = { x: -1, y: 0, clamp: { min: 1 } }\n  this.ports.mod = { x: 1, y: 0, default: '8' }\n  this.ports.output = { x: 0, y: 1, bang: true }\n\n  this.operation = function (force = false) {\n    const rate = this.listen(this.ports.rate, true)\n    const mod = this.listen(this.ports.mod, true)\n    const res = orca.f % (mod * rate)\n    return res === 0 || mod === 1\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorE (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'e', passive)\n\n  this.name = 'east'\n  this.info = 'Moves eastward, or bangs'\n  this.draw = false\n\n  this.operation = function () {\n    this.move(1, 0)\n    this.passive = false\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorF (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'f', passive)\n\n  this.name = 'if'\n  this.info = 'Bangs if inputs are equal'\n\n  this.ports.a = { x: -1, y: 0 }\n  this.ports.b = { x: 1, y: 0 }\n  this.ports.output = { x: 0, y: 1, bang: true }\n\n  this.operation = function (force = false) {\n    const a = this.listen(this.ports.a)\n    const b = this.listen(this.ports.b)\n    return a === b && a !== '.'\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorG (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'g', passive)\n\n  this.name = 'generator'\n  this.info = 'Writes operands with offset'\n\n  this.ports.x = { x: -3, y: 0 }\n  this.ports.y = { x: -2, y: 0 }\n  this.ports.len = { x: -1, y: 0, clamp: { min: 1 } }\n\n  this.operation = function (force = false) {\n    const len = this.listen(this.ports.len, true)\n    const x = this.listen(this.ports.x, true)\n    const y = this.listen(this.ports.y, true) + 1\n    for (let offset = 0; offset <= len; offset++) {\n      if (offset > 0) {\n        orca.lock(this.x + offset, this.y)\n      }\n      const port = { x: offset + 1, y: 0 }\n      const value = this.listen(port)\n      orca.write(this.x + x + offset, this.y + y, value)\n    }\n    this.ports.output = { x: x, y: y }\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorH (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'h', passive)\n\n  this.name = 'halt'\n  this.info = 'Halts southward operand'\n\n  this.ports.output = { x: 0, y: 1, reader: true }\n\n  this.operation = function (force = false) {\n    orca.lock(this.x + this.ports.output.x, this.y + this.ports.output.y)\n    return this.listen(this.ports.output, true)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorI (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'i', passive)\n\n  this.name = 'increment'\n  this.info = 'Increments southward operand'\n\n  this.ports.step = { x: -1, y: 0, default: '1' }\n  this.ports.mod = { x: 1, y: 0 }\n  this.ports.output = { x: 0, y: 1, sensitive: true, reader: true }\n\n  this.operation = function (force = false) {\n    const step = this.listen(this.ports.step, true)\n    const mod = this.listen(this.ports.mod, true)\n    const val = this.listen(this.ports.output, true)\n    return orca.keyOf((val + step) % (mod > 0 ? mod : 36))\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorJ (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'j', passive)\n\n  this.name = 'jumper'\n  this.info = 'Outputs northward operand'\n\n  this.ports.val = { x: 0, y: -1 }\n  this.ports.output = { x: 0, y: 1 }\n\n  this.operation = function (force = false) {\n    orca.lock(this.x, this.y + 1)\n    return this.listen(this.ports.val)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorK (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'k', passive)\n\n  this.name = 'konkat'\n  this.info = 'Reads multiple variables'\n\n  this.ports.len = { x: -1, y: 0, clamp: { min: 1 } }\n\n  this.operation = function (force = false) {\n    this.len = this.listen(this.ports.len, true)\n    for (let x = 1; x <= this.len; x++) {\n      orca.lock(this.x + x, this.y)\n      const key = orca.glyphAt(this.x + x, this.y)\n      if (key === '.') { continue }\n      orca.lock(this.x + x, this.y + 1)\n      orca.write(this.x + x, this.y + 1, orca.valueIn(key))\n    }\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorL (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'l', passive)\n\n  this.name = 'loop'\n  this.info = 'Moves eastward operands'\n\n  this.ports.step = { x: -2, y: 0, default: '1' }\n  this.ports.len = { x: -1, y: 0 }\n  this.ports.val = { x: 1, y: 0 }\n  this.ports.output = { x: 0, y: 1 }\n\n  this.operation = function (force = false) {\n    const len = this.listen(this.ports.len, true)\n    const step = this.listen(this.ports.step, true)\n    const index = orca.indexAt(this.x + 1, this.y)\n    const seg = orca.s.substr(index, len)\n    const res = seg.substr(len - step, step) + seg.substr(0, len - step)\n    for (let offset = 0; offset <= len; offset++) {\n      if (offset > 0) {\n        orca.lock(this.x + offset, this.y)\n      }\n      orca.write(this.x + offset + 1, this.y, res.charAt(offset))\n    }\n    return this.listen(this.ports.val)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorM (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'm', passive)\n\n  this.name = 'multiply'\n  this.info = 'Outputs product of inputs'\n\n  this.ports.a = { x: -1, y: 0 }\n  this.ports.b = { x: 1, y: 0 }\n  this.ports.output = { x: 0, y: 1, sensitive: true }\n\n  this.operation = function (force = false) {\n    const a = this.listen(this.ports.a, true)\n    const b = this.listen(this.ports.b, true)\n    return orca.keyOf(a * b)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorN (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'n', passive)\n\n  this.name = 'north'\n  this.info = 'Moves Northward, or bangs'\n  this.draw = false\n\n  this.operation = function () {\n    this.move(0, -1)\n    this.passive = false\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorO (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'o', passive)\n\n  this.name = 'read'\n  this.info = 'Reads operand with offset'\n\n  this.ports.x = { x: -2, y: 0 }\n  this.ports.y = { x: -1, y: 0 }\n  this.ports.output = { x: 0, y: 1 }\n\n  this.operation = function (force = false) {\n    const x = this.listen(this.ports.x, true)\n    const y = this.listen(this.ports.y, true)\n    this.ports.read = { x: x + 1, y: y }\n    return this.listen(this.ports.read)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorP (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'p', passive)\n\n  this.name = 'push'\n  this.info = 'Writes eastward operand'\n\n  this.ports.len = { x: -1, y: 0, clamp: { min: 1 } }\n  this.ports.key = { x: -2, y: 0 }\n  this.ports.val = { x: 1, y: 0 }\n\n  this.operation = function (force = false) {\n    const len = this.listen(this.ports.len, true)\n    const key = this.listen(this.ports.key, true)\n    for (let x = 0; x < len; x++) {\n      orca.lock(this.x + x, this.y + 1)\n    }\n    this.ports.output = { x: (key % len), y: 1 }\n    return this.listen(this.ports.val)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorQ (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'q', passive)\n\n  this.name = 'query'\n  this.info = 'Reads operands with offset'\n\n  this.ports.x = { x: -3, y: 0 }\n  this.ports.y = { x: -2, y: 0 }\n  this.ports.len = { x: -1, y: 0, clamp: { min: 1 } }\n\n  this.operation = function (force = false) {\n    const len = this.listen(this.ports.len, true)\n    const x = this.listen(this.ports.x, true)\n    const y = this.listen(this.ports.y, true)\n    for (let i = 1; i <= len; i++) {\n      orca.lock(this.x + x + i, this.y + y)\n      this.ports[`val${i}`] = { x: x + i, y: y }\n      this.ports.output = { x: i - len, y: 1 }\n      const res = this.listen(this.ports[`val${i}`])\n      this.output(`${res}`)\n    }\n    this.ports.output = { x: 0, y: 1 }\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorR (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'r', passive)\n\n  this.name = 'random'\n  this.info = 'Outputs random value'\n\n  this.ports.min = { x: -1, y: 0 }\n  this.ports.max = { x: 1, y: 0 }\n  this.ports.output = { x: 0, y: 1, sensitive: true }\n\n  this.operation = function (force = false) {\n    const min = this.listen(this.ports.min, true)\n    const max = this.listen(this.ports.max, true)\n    const val = parseInt((Math.random() * ((max > 0 ? max : 36) - min)) + min)\n    return orca.keyOf(val)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorS (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 's', passive)\n\n  this.name = 'south'\n  this.info = 'Moves southward, or bangs'\n  this.draw = false\n\n  this.operation = function () {\n    this.move(0, 1)\n    this.passive = false\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorT (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 't', passive)\n\n  this.name = 'track'\n  this.info = 'Reads eastward operand'\n\n  this.ports.key = { x: -2, y: 0 }\n  this.ports.len = { x: -1, y: 0, clamp: { min: 1 } }\n  this.ports.output = { x: 0, y: 1 }\n\n  this.operation = function (force = false) {\n    const len = this.listen(this.ports.len, true)\n    const key = this.listen(this.ports.key, true)\n    for (let x = 1; x <= len; x++) {\n      orca.lock(this.x + x, this.y)\n    }\n    this.ports.val = { x: (key % len) + 1, y: 0 }\n    return this.listen(this.ports.val)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorU (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'u', passive)\n\n  this.name = 'uclid'\n  this.info = 'Bangs on Euclidean rhythm'\n\n  this.ports.step = { x: -1, y: 0, clamp: { min: 0 }, default: '1' }\n  this.ports.max = { x: 1, y: 0, clamp: { min: 1 }, default: '8' }\n  this.ports.output = { x: 0, y: 1, bang: true }\n\n  this.operation = function (force = false) {\n    const step = this.listen(this.ports.step, true)\n    const max = this.listen(this.ports.max, true)\n    const bucket = (step * (orca.f + max - 1)) % max + step\n    return bucket >= max\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorV (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'v', passive)\n\n  this.name = 'variable'\n  this.info = 'Reads and writes variable'\n\n  this.ports.write = { x: -1, y: 0 }\n  this.ports.read = { x: 1, y: 0 }\n\n  this.operation = function (force = false) {\n    const write = this.listen(this.ports.write)\n    const read = this.listen(this.ports.read)\n    if (write === '.' && read !== '.') {\n      this.ports.output = { x: 0, y: 1 }\n    }\n    if (write !== '.') {\n      orca.variables[write] = read\n      return\n    }\n    return orca.valueIn(read)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorW (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'w', passive)\n\n  this.name = 'west'\n  this.info = 'Moves westward, or bangs'\n  this.draw = false\n\n  this.operation = function () {\n    this.move(-1, 0)\n    this.passive = false\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorX (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'x', passive)\n\n  this.name = 'write'\n  this.info = 'Writes operand with offset'\n\n  this.ports.x = { x: -2, y: 0 }\n  this.ports.y = { x: -1, y: 0 }\n  this.ports.val = { x: 1, y: 0 }\n\n  this.operation = function (force = false) {\n    const x = this.listen(this.ports.x, true)\n    const y = this.listen(this.ports.y, true) + 1\n    this.ports.output = { x: x, y: y }\n    return this.listen(this.ports.val)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorY (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'y', passive)\n\n  this.name = 'jymper'\n  this.info = 'Outputs westward operand'\n\n  this.ports.val = { x: -1, y: 0 }\n  this.ports.output = { x: 1, y: 0 }\n\n  this.operation = function (force = false) {\n    orca.lock(this.x + 1, this.y)\n    return this.listen(this.ports.val)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorZ (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, 'z', passive)\n\n  this.name = 'lerp'\n  this.info = 'Transitions operand to target'\n\n  this.ports.rate = { x: -1, y: 0, default: '1' }\n  this.ports.target = { x: 1, y: 0 }\n  this.ports.output = { x: 0, y: 1, sensitive: true, reader: true }\n\n  this.operation = function (force = false) {\n    const rate = this.listen(this.ports.rate, true)\n    const target = this.listen(this.ports.target, true)\n    const val = this.listen(this.ports.output, true)\n    const mod = val <= target - rate ? rate : val >= target + rate ? -rate : target - val\n    return orca.keyOf(val + mod)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorBang (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, '*', true)\n\n  this.name = 'bang'\n  this.info = 'Bangs neighboring operands'\n  this.draw = false\n\n  this.run = function (force = false) {\n    this.draw = false\n    this.erase()\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorComment (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, '#', true)\n\n  this.name = 'comment'\n  this.info = 'Halts line'\n  this.draw = false\n\n  this.operation = function () {\n    for (let x = this.x + 1; x <= orca.w; x++) {\n      orca.lock(x, this.y)\n      if (orca.glyphAt(x, this.y) === this.glyph) { break }\n    }\n    orca.lock(this.x, this.y)\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorMidi (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, ':', true)\n\n  this.name = 'midi'\n  this.info = 'Sends MIDI note'\n\n  this.ports.channel = { x: 1, y: 0, clamp: { min: 0, max: 16 } }\n  this.ports.octave = { x: 2, y: 0, clamp: { min: 0, max: 8 } }\n  this.ports.note = { x: 3, y: 0 }\n  this.ports.velocity = { x: 4, y: 0, default: 'f', clamp: { min: 0, max: 16 } }\n  this.ports.length = { x: 5, y: 0, default: '1', clamp: { min: 0, max: 16 } }\n\n  this.operation = function (force = false) {\n    if (!this.hasNeighbor('*') && force === false) { return }\n\n    if (this.listen(this.ports.channel) === '.') { return }\n    if (this.listen(this.ports.octave) === '.') { return }\n    if (this.listen(this.ports.note) === '.') { return }\n\n    const channel = this.listen(this.ports.channel, true)\n    const rawOctave = this.listen(this.ports.octave, true)\n    const rawNote = this.listen(this.ports.note)\n    const rawVelocity = this.listen(this.ports.velocity, true)\n    const length = this.listen(this.ports.length, true)\n\n    if (!isNaN(rawNote)) { return }\n\n    const transposed = this.transpose(rawNote, rawOctave)\n    // 1 - 8\n    const octave = transposed.octave\n    // 0 - 11\n    const note = transposed.value\n    // 0 - G(127)\n    const velocity = parseInt((rawVelocity / 16) * 127)\n\n    this.draw = false\n\n    orca.terminal.io.midi.send(channel, octave, note, velocity, length)\n\n    if (force === true) {\n      terminal.io.midi.run()\n    }\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorMono (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, '%', true)\n\n  this.name = 'mono'\n  this.info = 'Sends MIDI monophonic note'\n\n  this.ports.channel = { x: 1, y: 0, clamp: { min: 0, max: 16 } }\n  this.ports.octave = { x: 2, y: 0, clamp: { min: 0, max: 8 } }\n  this.ports.note = { x: 3, y: 0 }\n  this.ports.velocity = { x: 4, y: 0, default: 'f', clamp: { min: 0, max: 16 } }\n  this.ports.length = { x: 5, y: 0, default: '1', clamp: { min: 0, max: 16 } }\n\n  this.operation = function (force = false) {\n    if (!this.hasNeighbor('*') && force === false) { return }\n\n    if (this.listen(this.ports.channel) === '.') { return }\n    if (this.listen(this.ports.octave) === '.') { return }\n    if (this.listen(this.ports.note) === '.') { return }\n\n    const channel = this.listen(this.ports.channel, true)\n    const rawOctave = this.listen(this.ports.octave, true)\n    const rawNote = this.listen(this.ports.note)\n    const rawVelocity = this.listen(this.ports.velocity, true)\n    const length = this.listen(this.ports.length, true)\n\n    if (!isNaN(rawNote)) { return }\n\n    const transposed = this.transpose(rawNote, rawOctave)\n    // 1 - 8\n    const octave = transposed.octave\n    // 0 - 11\n    const note = transposed.value\n    // 0 - G(127)\n    const velocity = parseInt((rawVelocity / 16) * 127)\n\n    this.draw = false\n\n    terminal.io.mono.send(channel, octave, note, velocity, length)\n\n    if (force === true) {\n      terminal.io.mono.run()\n    }\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorCC (orca, x, y) {\n  Operator.call(this, orca, x, y, '!', true)\n\n  this.name = 'cc'\n  this.info = 'Sends MIDI control change'\n\n  this.ports.channel = { x: 1, y: 0, clamp: { min: 0, max: 15 } }\n  this.ports.knob = { x: 2, y: 0, clamp: { min: 0 } }\n  this.ports.value = { x: 3, y: 0, clamp: { min: 0 } }\n\n  this.operation = function (force = false) {\n    if (!this.hasNeighbor('*') && force === false) { return }\n    if (this.listen(this.ports.channel) === '.') { return }\n    if (this.listen(this.ports.knob) === '.') { return }\n\n    const channel = this.listen(this.ports.channel, true)\n    const knob = this.listen(this.ports.knob, true)\n    const rawValue = this.listen(this.ports.value, true)\n    const value = Math.ceil((127 * rawValue) / 35)\n\n    this.draw = false\n    terminal.io.cc.send(channel, knob, value)\n\n    if (force === true) {\n      terminal.io.cc.run()\n    }\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorUdp (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, ';', true)\n\n  this.name = 'udp'\n  this.info = 'Sends UDP message'\n\n  this.operation = function (force = false) {\n    if (!this.hasNeighbor('*') && force === false) { return }\n\n    for (let x = 1; x <= 36; x++) {\n      const g = orca.glyphAt(this.x + x, this.y)\n      if (g === '.') { break }\n      orca.lock(this.x + x, this.y)\n    }\n\n    let msg = ''\n    for (let x = 1; x <= 36; x++) {\n      const g = orca.glyphAt(this.x + x, this.y)\n      if (g === '.') { break }\n      msg += g\n    }\n\n    if (msg === '') { return }\n\n    this.draw = false\n    terminal.io.udp.send(msg)\n\n    if (force === true) {\n      terminal.io.udp.run()\n    }\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nexport default function OperatorOsc (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, '=', true)\n\n  this.name = 'osc'\n  this.info = 'Sends OSC message'\n\n  this.ports.path = { x: 1, y: 0 }\n\n  this.operation = function (force = false) {\n    if (!this.hasNeighbor('*') && force === false) { return }\n\n    this.path = this.listen(this.ports.path)\n\n    if (!this.path || this.path === '.') { return }\n\n    this.msg = ''\n\n    for (let x = 2; x <= 36; x++) {\n      const g = orca.glyphAt(this.x + x, this.y)\n      if (g === '.') { break }\n      orca.lock(this.x + x, this.y)\n      this.msg += g\n    }\n\n    this.draw = false\n    terminal.io.osc.send('/' + this.path, this.msg)\n\n    if (force === true) {\n      terminal.io.osc.run()\n    }\n  }\n}\n","'use strict'\n\nimport Operator from '../operator.js'\n\nconst OCTAVE = ['C', 'c', 'D', 'd', 'E', 'F', 'f', 'G', 'g', 'A', 'a', 'B']\n\nexport default function OperatorKeys (orca, x, y, passive) {\n  Operator.call(this, orca, x, y, '&', true)\n\n  this.name = 'mono'\n  this.info = 'Receive MIDI note'\n\n  this.ports.output = { x: 0, y: 1 }\n\n  this.operation = function (force = false) {\n    if (!terminal.io.midi.key) { return '.' }\n    const octave = Math.floor(terminal.io.midi.key / 12)\n    const value = terminal.io.midi.key % 12\n    const note = OCTAVE[value]\n    const transposed = this.transpose(note, octave)\n    return transposed && transposed.real ? transposed.real : '.'\n  }\n}\n","'use strict'\n\nimport _null from './library/_null.js'\nimport a from './library/a.js'\nimport b from './library/b.js'\nimport c from './library/c.js'\nimport d from './library/d.js'\nimport e from './library/e.js'\nimport f from './library/f.js'\nimport g from './library/g.js'\nimport h from './library/h.js'\nimport i from './library/i.js'\nimport j from './library/j.js'\nimport k from './library/k.js'\nimport l from './library/l.js'\nimport m from './library/m.js'\nimport n from './library/n.js'\nimport o from './library/o.js'\nimport p from './library/p.js'\nimport q from './library/q.js'\nimport r from './library/r.js'\nimport s from './library/s.js'\nimport t from './library/t.js'\nimport u from './library/u.js'\nimport v from './library/v.js'\nimport w from './library/w.js'\nimport x from './library/x.js'\nimport y from './library/y.js'\nimport z from './library/z.js'\nimport _bang from './library/_bang.js'\nimport _comment from './library/_comment.js'\nimport _midi from './library/_midi.js'\nimport _mono from './library/_mono.js'\nimport _cc from './library/_cc.js'\nimport _udp from './library/_udp.js'\nimport _osc from './library/_osc.js'\nimport _keys from './library/_keys.js'\n\nexport default {\n  '0': _null,\n  '1': _null,\n  '2': _null,\n  '3': _null,\n  '4': _null,\n  '5': _null,\n  '6': _null,\n  '7': _null,\n  '8': _null,\n  '9': _null,\n  a,\n  b,\n  c,\n  d,\n  e,\n  f,\n  g,\n  h,\n  i,\n  j,\n  k,\n  l,\n  m,\n  n,\n  o,\n  p,\n  q,\n  r,\n  s,\n  t,\n  u,\n  v,\n  w,\n  x,\n  y,\n  z,\n  '*': _bang,\n  '#': _comment,\n  ':': _midi,\n  '%': _mono,\n  '!': _cc,\n  ';': _udp,\n  '=': _osc,\n  '&': _keys\n}\n","'use strict'\n\nimport library from './library.js'\n\nexport default function Orca (terminal) {\n  this.w = 1 // Default Width\n  this.h = 1 // Default Height\n  this.f = 0 // Frame\n  this.s = '' // String\n\n  this.terminal = terminal\n  this.keys = Object.keys(library).slice(0, 36)\n\n  this.locks = []\n  this.runtime = []\n  this.variables = {}\n\n  this.run = function () {\n    this.runtime = this.parse()\n    this.operate(this.runtime)\n    this.f += 1\n  }\n\n  this.reset = function (w = this.w, h = this.h) {\n    this.f = 0\n    this.w = w\n    this.h = h\n    this.replace(new Array((this.h * this.w) + 1).join('.'))\n  }\n\n  this.load = function (w, h, s, f = 0) {\n    this.w = w\n    this.h = h\n    this.f = f\n    this.replace(this.clean(s))\n    return this\n  }\n\n  this.write = function (x, y, g) {\n    if (!g) { return false }\n    if (g.length !== 1) { return false }\n    if (!this.inBounds(x, y)) { return false }\n    if (this.glyphAt(x, y) === g) { return false }\n    const index = this.indexAt(x, y)\n    const glyph = !this.isAllowed(g) ? '.' : g\n    const string = this.s.substr(0, index) + glyph + this.s.substr(index + 1)\n    this.replace(string)\n    return true\n  }\n\n  this.clean = function (str) {\n    return `${str}`.replace(/\\n/g, '').trim().substr(0, this.w * this.h)\n  }\n\n  this.replace = function (s) {\n    this.s = s\n  }\n\n  // Operators\n\n  this.parse = function () {\n    const a = []\n    for (let y = 0; y < this.h; y++) {\n      for (let x = 0; x < this.w; x++) {\n        const g = this.glyphAt(x, y)\n        const operator = this.cast(g, x, y)\n        if (operator) {\n          a.push(operator)\n        }\n      }\n    }\n    return a\n  }\n\n  this.cast = function (g, x, y) {\n    if (g === '.') { return }\n    if (!library[g.toLowerCase()]) { return }\n    const passive = g === g.toUpperCase()\n    return new library[g.toLowerCase()](this, x, y, passive)\n  }\n\n  this.operate = function (operators) {\n    this.release()\n    for (const id in operators) {\n      const operator = operators[id]\n      if (this.lockAt(operator.x, operator.y)) { continue }\n      if (operator.passive || operator.hasNeighbor('*')) {\n        operator.run()\n      }\n    }\n  }\n\n  this.bounds = function () {\n    let w = 0\n    let h = 0\n    for (let y = 0; y < this.h; y++) {\n      for (let x = 0; x < this.w; x++) {\n        const g = this.glyphAt(x, y)\n        if (g !== '.') {\n          if (x > w) { w = x }\n          if (y > h) { h = y }\n        }\n      }\n    }\n    return { w: w, h: h }\n  }\n\n  // Locks\n\n  this.release = function () {\n    this.locks = new Array(this.w * this.h)\n    this.variables = {}\n  }\n\n  this.unlock = function (x, y) {\n    this.locks[this.indexAt(x, y)] = null\n  }\n\n  this.lock = function (x, y) {\n    if (this.lockAt(x, y)) { return }\n    this.locks[this.indexAt(x, y)] = true\n  }\n\n  // Helpers\n\n  this.inBounds = function (x, y) {\n    return Number.isInteger(x) && Number.isInteger(y) && x >= 0 && x < this.w && y >= 0 && y < this.h\n  }\n\n  this.isAllowed = function (g) {\n    return g === '.' || !!library[`${g}`.toLowerCase()]\n  }\n\n  this.keyOf = function (val, uc = false) {\n    return uc === true ? this.keys[val % 36].toUpperCase() : this.keys[val % 36]\n  }\n\n  this.valueOf = function (g) {\n    return g === '.' ? 0 : this.keys.indexOf(`${g}`.toLowerCase())\n  }\n\n  this.indexAt = function (x, y) {\n    return this.inBounds(x, y) === true ? x + (this.w * y) : -1\n  }\n\n  this.operatorAt = function (x, y) {\n    return this.runtime.filter((item) => { return item.x === x && item.y === y })[0]\n  }\n\n  this.posAt = function (index) {\n    return { x: index % this.w, y: parseInt(index / this.w) }\n  }\n\n  this.glyphAt = function (x, y) {\n    return this.s.charAt(this.indexAt(x, y))\n  }\n\n  this.valueAt = function (x, y) {\n    return this.valueOf(this.glyphAt(x, y))\n  }\n\n  this.lockAt = function (x, y) {\n    return this.locks[this.indexAt(x, y)] === true\n  }\n\n  this.valueIn = function (key) {\n    return this.variables[key]\n  }\n\n  // Tools\n\n  this.format = function () {\n    const a = []\n    for (let y = 0; y < this.h; y++) {\n      a.push(this.s.substr(y * this.w, this.w))\n    }\n    return a.reduce((acc, val) => {\n      return `${acc}${val}\\n`\n    }, '')\n  }\n\n  this.length = function () {\n    return this.strip().length\n  }\n\n  this.strip = function () {\n    return this.s.replace(/[^a-zA-Z0-9+]+/gi, '').trim()\n  }\n\n  this.toString = function () {\n    return this.format().trim()\n  }\n\n  this.reset()\n}\n","'use strict'\n\nexport default function Midi (terminal) {\n  this.mode = 0\n\n  this.outputIndex = -1\n  this.inputIndex = -1\n\n  this.outputs = []\n  this.inputs = []\n  this.stack = []\n\n  this.key = null\n\n  this.start = function () {\n    console.info('Midi Starting..')\n    this.setup()\n  }\n\n  this.clear = function () {\n\n  }\n\n  this.update = function () {\n    terminal.controller.clearCat('default', 'Midi')\n    terminal.controller.add('default', 'Midi', `Refresh Device List`, () => { terminal.io.midi.setup(); terminal.io.midi.update() })\n    terminal.controller.addSpacer('default', 'Midi', 'spacer1')\n\n    // Outputs\n    if (this.outputs.length < 1) {\n      terminal.controller.add('default', 'Midi', `No Midi Outputs`)\n    } else {\n      for (const id in this.outputs) {\n        terminal.controller.add('default', 'Midi', `${this.outputs[id].name} Output ${terminal.io.midi.outputIndex === parseInt(id) ? '  Active' : ''}`, () => { terminal.io.midi.selectOutput(id) }, '')\n      }\n      terminal.controller.add('default', 'Midi', `No Output ${terminal.io.midi.outputIndex === -1 ? '  Active' : ''}`, () => { terminal.io.midi.selectOutput(-1) }, '')\n      terminal.controller.addSpacer('default', 'Midi', 'spacer2')\n    }\n\n    // Inputs\n    if (this.inputs.length < 1) {\n      terminal.controller.add('default', 'Midi', `No Midi Inputs`)\n    } else {\n      for (const id in this.inputs) {\n        terminal.controller.add('default', 'Midi', `${this.inputs[id].name} Input ${terminal.io.midi.inputIndex === parseInt(id) ? '  Active' : ''}`, () => { terminal.io.midi.selectInput(id) }, '')\n      }\n      terminal.controller.add('default', 'Midi', `No Input ${terminal.io.midi.inputIndex === -1 ? '  Active' : ''}`, () => { terminal.io.midi.selectInput(-1) }, '')\n    }\n\n    terminal.controller.commit()\n  }\n\n  this.run = function () {\n    this.stack = this.stack.filter((item) => {\n      const alive = item[4] > 0\n      const played = item[5]\n      if (alive !== true) {\n        this.trigger(item, false)\n      } else if (played !== true) {\n        this.trigger(item, true)\n      }\n      item[4]--\n      return alive\n    })\n  }\n\n  this.trigger = function (item, down) {\n    if (!this.outputDevice()) { console.warn('Midi', 'No midi output!'); return }\n\n    const channel = down === true ? 0x90 + item[0] : 0x80 + item[0]\n    const note = clamp(24 + (item[1] * 12) + item[2], 0, 127)\n    const velocity = clamp(item[3], 0, 127)\n\n    this.outputDevice().send([channel, note, velocity])\n    item[5] = true\n  }\n\n  this.send = function (channel, octave, note, velocity, length, played = false) {\n    for (const id in this.stack) {\n      const item = this.stack[id]\n      if (item[0] === channel && item[1] === octave && item[2] === note) {\n        item[3] = velocity\n        item[4] = length\n        item[5] = played\n        return\n      }\n    }\n    this.stack.push([channel, octave, note, velocity, length, played])\n  }\n\n  this.silence = function () {\n    this.stack = this.stack.filter((item) => {\n      this.trigger(item, false)\n      return false\n    })\n  }\n\n  // Keys\n\n  this.press = function (key) {\n    this.key = parseInt(key)\n  }\n\n  this.release = function () {\n    this.key = null\n  }\n\n  // Clock\n\n  this.ticks = []\n\n  // TODO\n  this.sendClock = function () {\n    if (!this.outputDevice()) { return }\n    if (this.sendClock !== true) { return }\n\n    const bpm = terminal.clock.speed.value\n    const frameTime = (60000 / bpm) / 4\n    const frameFrag = frameTime / 6\n\n    for (let id = 0; id < 6; id++) {\n      if (this.ticks[id]) { clearTimeout(this.ticks[id]) }\n      this.ticks[id] = setTimeout(() => { this.outputDevice().send([0xF8], 0) }, parseInt(id) * frameFrag)\n    }\n  }\n\n  this.receive = function (msg) {\n    switch (msg.data[0]) {\n      // Keys\n      case 0x90:\n        this.press(msg.data[1])\n        break\n      case 0x80:\n        this.release()\n        break\n      // Clock\n      case 0xF8:\n        terminal.clock.tap()\n        break\n      case 0xFA:\n        console.log('Midi', 'Clock start.')\n        terminal.clock.play()\n        break\n      case 0xFC:\n        console.log('Midi', 'Clock stop.')\n        terminal.clock.stop()\n        break\n    }\n  }\n\n  // Tools\n\n  this.selectOutput = function (id) {\n    if (id === -1) { this.outputIndex = -1; console.log('Midi', `Select Output Device: None`); this.update(); return }\n    if (!this.outputs[id]) { return }\n\n    this.outputIndex = parseInt(id)\n    console.log('Midi', `Select Output Device: ${this.outputDevice().name}`)\n    this.update()\n  }\n\n  this.selectInput = function (id) {\n    if (this.inputDevice()) { this.inputDevice().onmidimessage = null }\n    if (id === -1) { this.inputIndex = -1; console.log('Midi', `Select Input Device: None`); this.update(); return }\n    if (!this.inputs[id]) { return }\n\n    this.inputIndex = parseInt(id)\n    this.inputDevice().onmidimessage = (msg) => { this.receive(msg) }\n    console.log('Midi', `Select Input Device: ${this.inputDevice().name}`)\n    this.update()\n  }\n\n  this.outputDevice = function () {\n    return this.outputs[this.outputIndex]\n  }\n\n  this.inputDevice = function () {\n    return this.inputs[this.inputIndex]\n  }\n\n  // Setup\n\n  this.setup = function () {\n    if (!navigator.requestMIDIAccess) { return }\n    navigator.requestMIDIAccess({ sysex: false }).then(this.access, (err) => {\n      console.warn('No Midi', err)\n    })\n  }\n\n  this.access = function (midiAccess) {\n    const outputs = midiAccess.outputs.values()\n    terminal.io.midi.outputs = []\n    for (let i = outputs.next(); i && !i.done; i = outputs.next()) {\n      terminal.io.midi.outputs.push(i.value)\n    }\n    terminal.io.midi.selectOutput(0)\n\n    const inputs = midiAccess.inputs.values()\n    terminal.io.midi.inputs = []\n    for (let i = inputs.next(); i && !i.done; i = inputs.next()) {\n      terminal.io.midi.inputs.push(i.value)\n    }\n    terminal.io.midi.selectInput(-1)\n  }\n\n  // UI\n\n  this.toString = function () {\n    return this.outputDevice() ? `${this.outputDevice().name}` : 'No Midi'\n  }\n\n  function clamp (v, min, max) { return v < min ? min : v > max ? max : v }\n}\n","'use strict'\n\nexport default function MidiCC (terminal) {\n  this.stack = []\n\n  this.start = function () {\n    console.info('MidiCC', 'Starting..')\n  }\n\n  this.clear = function () {\n    this.stack = []\n  }\n\n  this.run = function () {\n    for (const id in this.stack) {\n      this.play(this.stack[id])\n    }\n  }\n\n  this.send = function (channel, knob, value) {\n    this.stack.push([channel, knob, value])\n  }\n\n  this.play = function (data) {\n    const device = terminal.io.midi.outputDevice()\n    if (!device) { console.warn('MidiCC', `No Midi device.`); return }\n    device.send([0xb0 + data[0], 64 + data[1], data[2]])\n  }\n}\n","'use strict'\n\nexport default function Mono (terminal) {\n  this.queue = null\n  this.stack = []\n\n  this.start = function () {\n    console.info('MidiMono Starting..')\n  }\n\n  this.run = function () {\n    if (this.stack[0]) {\n      if (this.stack[0].length <= 1) {\n        this.release()\n      } else {\n        this.stack[0].length--\n      }\n    }\n\n    if (this.queue) {\n      this.press()\n    }\n  }\n\n  this.press = function (item = this.queue) {\n    if (!item) { return }\n    if (this.stack[0]) { this.release() }\n    this.trigger(item, true)\n    this.stack[0] = item\n    this.queue = null\n  }\n\n  this.release = function (item = this.stack[0]) {\n    if (!item) { return }\n    this.trigger(this.stack[0], false)\n    this.stack = []\n  }\n\n  this.clear = function () {\n\n  }\n\n  this.trigger = function (item, down) {\n    if (!terminal.io.midi.outputDevice()) { console.warn('MidiMono', 'No midi output!'); return }\n    if (!item) { return }\n\n    const channel = down === true ? 0x90 + item.channel : 0x80 + item.channel\n    const note = clamp(24 + (item.octave * 12) + item.note, 0, 127)\n    const velocity = clamp(item.velocity, 0, 127)\n\n    terminal.io.midi.outputDevice().send([channel, note, velocity])\n  }\n\n  this.send = function (channel, octave, note, velocity, length) {\n    this.queue = { channel, octave, note, velocity, length }\n  }\n\n  this.silence = function () {\n    this.release()\n  }\n\n  // UI\n\n  function clamp (v, min, max) { return v < min ? min : v > max ? max : v }\n}\n","'use strict'\n\nexport default function Udp (terminal) {\n  this.stack = []\n  this.port = null\n  this.options = { default: 49161, orca: 49160 }\n\n  this.start = function () {\n    console.info('UDP Starting..')\n  }\n\n  this.clear = function () {\n    this.stack = []\n  }\n\n  this.run = function () {\n    for (const id in this.stack) {\n      this.play(this.stack[id])\n    }\n  }\n\n  this.send = function (msg) {\n    this.stack.push(msg)\n  }\n\n  this.play = function (data) {\n  }\n\n  this.select = function (port = this.options.default) {\n  }\n\n  this.update = function () {\n  }\n\n\n}\n","'use strict'\n\n\nexport default function Osc (terminal) {\n  this.stack = []\n  this.port = null\n  this.options = { default: 49162, tidalCycles: 6010, sonicPi: 4559, superCollider: 57120 }\n\n  this.start = function () {\n    console.info('OSC Starting..')\n  }\n\n  this.clear = function () {\n    this.stack = []\n  }\n\n  this.run = function () {\n    for (const id in this.stack) {\n      this.play(this.stack[id])\n    }\n  }\n\n  this.send = function (path, msg) {\n    this.stack.push({ path, msg })\n  }\n\n  this.play = function ({ path, msg }) {\n  }\n\n  this.select = function (port = this.options.default) {\n  }\n\n  this.update = function () {\n  }\n\n  this.setup = function (ip = '127.0.0.1') {\n  }\n}\n","'use strict'\n\nimport Midi from './io/midi.js'\nimport MidiCC from './io/cc.js'\nimport Mono from './io/mono.js'\nimport Udp from './io/udp.js'\nimport Osc from './io/osc.js'\n\nexport default function IO (terminal) {\n  this.midi = new Midi(terminal)\n  this.cc = new MidiCC(terminal)\n  this.mono = new Mono(terminal)\n  this.udp = new Udp(terminal)\n  this.osc = new Osc(terminal)\n\n  this.start = function () {\n    this.midi.start()\n    this.cc.start()\n    this.mono.start()\n    this.udp.start()\n    this.osc.start()\n    this.clear()\n  }\n\n  this.clear = function () {\n    this.midi.clear()\n    this.cc.clear()\n    this.mono.clear()\n    this.udp.clear()\n    this.osc.clear()\n  }\n\n  this.run = function () {\n    this.midi.run()\n    this.cc.run()\n    this.mono.run()\n    this.udp.run()\n    this.osc.run()\n  }\n\n  this.silence = function () {\n    this.midi.silence()\n    this.mono.silence()\n  }\n\n  this.length = function () {\n    return this.midi.stack.length + this.cc.stack.length + this.udp.stack.length + this.osc.stack.length + this.mono.stack.length\n  }\n\n  this.inspect = function (limit = terminal.grid.w) {\n    let text = ''\n    for (let i = 0; i < this.length(); i++) {\n      text += '|'\n    }\n    return fill(text, limit, '.')\n  }\n\n  function fill (str, len, chr) { while (str.length < len) { str += chr }; return str }\n}\n","'use strict'\n\n\nexport default function Cursor (terminal) {\n  this.x = 0\n  this.y = 0\n  this.w = 1\n  this.h = 1\n  this.mode = 0\n  this.block = []\n\n  this.move = function (x, y) {\n    if (isNaN(x) || isNaN(y)) { return }\n    this.x = clamp(this.x + parseInt(x), 0, terminal.orca.w - 1)\n    this.y = clamp(this.y - parseInt(y), 0, terminal.orca.h - 1)\n    terminal.update()\n  }\n\n  this.moveTo = function (x, y) {\n    if (!x || !y || isNaN(x) || isNaN(y)) { return }\n    this.x = clamp(parseInt(x), 0, terminal.orca.w - 1)\n    this.y = clamp(parseInt(y), 0, terminal.orca.h - 1)\n    terminal.update()\n  }\n\n  this.scale = function (x, y) {\n    if (isNaN(x) || isNaN(y)) { return }\n    this.w = clamp(this.w + parseInt(x), 1, terminal.orca.w - this.x)\n    this.h = clamp(this.h - parseInt(y), 1, terminal.orca.h - this.y)\n    terminal.update()\n  }\n\n  this.scaleTo = function (w, h) {\n    if (isNaN(w) || isNaN(h)) { return }\n    this.w = clamp(parseInt(w), 0, terminal.orca.w - 1)\n    this.h = clamp(parseInt(h), 0, terminal.orca.h - 1)\n    terminal.update()\n  }\n\n  this.resize = function (w, h) {\n    if (isNaN(w) || isNaN(h)) { return }\n    this.w = clamp(parseInt(w), 1, terminal.orca.w - this.x)\n    this.h = clamp(parseInt(h), 1, terminal.orca.h - this.y)\n    terminal.update()\n  }\n\n  this.drag = function (x, y) {\n    if (isNaN(x) || isNaN(y)) { return }\n    this.mode = 0\n    this.cut()\n    this.move(x, y)\n    this.paste()\n  }\n\n  this.selectAll = function () {\n    this.x = 0\n    this.y = 0\n    this.w = terminal.orca.w\n    this.h = terminal.orca.h\n    this.mode = 0\n    terminal.update()\n  }\n\n  this.select = function (x = this.x, y = this.y, w = this.w, h = this.h) {\n    this.moveTo(x, y)\n    this.scaleTo(w, h)\n    terminal.update()\n  }\n\n  this.reset = function (pos = false) {\n    if (pos) {\n      this.x = 0\n      this.y = 0\n    }\n    this.move(0, 0)\n    this.w = 1\n    this.h = 1\n    this.mode = 0\n  }\n\n  this.copy = function () {\n    const block = this.getBlock()\n    var rows = []\n    for (var i = 0; i < block.length; i++) {\n      rows.push(block[i].join(''))\n    }\n    clipboard.writeText(rows.join('\\n'))\n  }\n\n  this.cut = function () {\n    this.copy()\n    this.erase()\n  }\n\n  this.paste = function (overlap = false) {\n    this.writeBlock(clipboard.readText().split(/\\r?\\n/), overlap)\n  }\n\n  this.read = function () {\n    return terminal.orca.glyphAt(this.x, this.y)\n  }\n\n  this.write = function (g) {\n    if (terminal.orca.write(this.x, this.y, g) && this.mode === 1) {\n      this.move(1, 0)\n    }\n    terminal.history.record(terminal.orca.s)\n  }\n\n  this.erase = function () {\n    this.eraseBlock(this.x, this.y, this.w, this.h)\n    if (this.mode === 1) { this.move(-1, 0) }\n    terminal.history.record(terminal.orca.s)\n  }\n\n  this.rotate = function (rate = 1) {\n    if (isNaN(rate)) { return }\n    const cols = terminal.cursor.getBlock()\n    for (const y in cols) {\n      for (const x in cols[y]) {\n        if (!cols[y][x] || cols[y][x] === '.') { continue }\n        const isUC = cols[y][x] === cols[y][x].toUpperCase()\n        const value = terminal.orca.valueOf(cols[y][x])\n        cols[y][x] = terminal.orca.keyOf(parseInt(rate) + value, isUC)\n      }\n    }\n    terminal.cursor.writeBlock(cols)\n  }\n\n  this.find = function (str) {\n    const i = terminal.orca.s.indexOf(str)\n    if (i < 0) { return }\n    const pos = terminal.orca.posAt(i)\n    this.w = str.length\n    this.h = 1\n    this.x = pos.x\n    this.y = pos.y\n  }\n\n  this.trigger = function () {\n    const operator = terminal.orca.operatorAt(this.x, this.y)\n    if (!operator) { console.warn('Cursor', 'Nothing to trigger.'); return }\n    console.log('Cursor', 'Trigger: ' + operator.name)\n    operator.run(true)\n  }\n\n  this.toggleMode = function (val) {\n    this.w = 1\n    this.h = 1\n    this.mode = this.mode === 0 ? val : 0\n  }\n\n  this.inspect = function (name = true, ports = false) {\n    if (this.w > 1 || this.h > 1) { return 'multi' }\n    const port = terminal.portAt(this.x, this.y)\n    if (port) { return `${port[3]}` }\n    if (terminal.orca.lockAt(this.x, this.y)) { return 'locked' }\n    return 'empty'\n  }\n\n  this.comment = function () {\n    const block = this.getBlock()\n    for (const id in block) {\n      block[id][0] = block[id][0] === '#' ? '.' : '#'\n      block[id][block[id].length - 1] = block[id][block[id].length - 1] === '#' ? '.' : '#'\n    }\n    this.writeBlock(block)\n  }\n\n  // Block\n\n  this.getBlock = function () {\n    const rect = this.toRect()\n    const block = []\n    for (let _y = rect.y; _y < rect.y + rect.h; _y++) {\n      const line = []\n      for (let _x = rect.x; _x < rect.x + rect.w; _x++) {\n        line.push(terminal.orca.glyphAt(_x, _y))\n      }\n      block.push(line)\n    }\n    return block\n  }\n\n  this.writeBlock = function (block, overlap = false) {\n    if (!block || block.length === 0) { return }\n    const rect = this.toRect()\n    let _y = rect.y\n    for (const x in block) {\n      let _x = rect.x\n      for (const y in block[x]) {\n        const glyph = block[x][y]\n        terminal.orca.write(_x, _y, overlap === true && glyph === '.' ? terminal.orca.glyphAt(_x, _y) : glyph)\n        _x++\n      }\n      _y++\n    }\n    terminal.history.record(terminal.orca.s)\n  }\n\n  this.eraseBlock = function (x, y, w, h) {\n    if (isNaN(x) || isNaN(y) || isNaN(w) || isNaN(h)) { return }\n    for (let _y = y; _y < y + h; _y++) {\n      for (let _x = x; _x < x + w; _x++) {\n        terminal.orca.write(_x, _y, '.')\n      }\n    }\n    terminal.history.record(terminal.orca.s)\n  }\n\n  this.toRect = function () {\n    return { x: this.x, y: this.y, w: this.w, h: this.h }\n  }\n\n  function clamp (v, min, max) { return v < min ? min : v > max ? max : v }\n}\n","'use strict'\n\nexport default function Source (terminal) {\n\n  this.path = null\n  this.queue = []\n\n  this.start = function () {\n    this.increment()\n    this.new()\n  }\n\n  this.new = function () {\n    console.log('Source', 'Make a new file..')\n    this.path = null\n    this.queue = []\n    terminal.orca.reset()\n    terminal.resize()\n    terminal.history.reset()\n    terminal.cursor.reset()\n    terminal.clock.play()\n  }\n\n  this.open = function () {\n    console.log('Source', 'Open a file..')\n  }\n\n  this.save = function (quitAfter = false) {\n    console.log('Source', 'Save a file..')\n  }\n\n  this.saveAs = function (quitAfter = false) {\n    console.log('Source', 'Save a file as..')\n  }\n\n  this.revert = function () {\n    if (!this.path) { return }\n    console.log('Source', 'Revert a file..')\n  }\n\n  this.inject = function (name, paste = false) {\n  }\n\n  // I/O\n\n  this.write = function (loc, data = this.generate(), quitAfter = false) {\n\n  }\n\n  this.run = function () {\n    if (!this.queue || this.queue.length < terminal.orca.f || !this.queue[terminal.orca.f]) { return }\n    terminal.commander.trigger(this.queue[terminal.orca.f])\n  }\n\n  this.load = function (data) {\n    const lines = data.split('\\n').map((line) => { return clean(line) })\n    const w = lines[0].length\n    const h = lines.length\n    const s = lines.join('\\n').trim()\n\n    terminal.orca.load(w, h, s)\n    terminal.history.reset()\n    terminal.history.record(terminal.orca.s)\n    terminal.fit()\n  }\n\n  this.quit = function () {\n  }\n\n  this.verify = function () {\n  }\n\n  this.hasChanges = function () {\n  }\n\n  // LocalStorage\n\n  this.resume = function () {\n    this.read(this.recall('active'))\n  }\n\n  this.remember = function (key, val) {\n    if (!key || !val) { return }\n    console.log('Source', `Remember: ${key}=${val}`)\n    localStorage.setItem(key, val)\n  }\n\n  this.recall = function (key) {\n    if (!key) { return }\n    if (localStorage.hasOwnProperty(key)) {\n      console.log('Source', `Recall: ${key}`)\n      return localStorage.getItem(key)\n    }\n  }\n\n  this.forget = function (key) {\n    if (!key) { return }\n    console.log('Source', `Forget: ${key}`)\n    localStorage.removeItem(key)\n  }\n\n  this.increment = function () {\n    const val = this.recall('session')\n    this.remember('session', isNaN(val) ? 1 : parseInt(val) + 1)\n  }\n\n  // Converters\n\n  this.generate = function (orca = terminal.orca) {\n    return `${orca}`\n  }\n\n  this.locate = function (name) {\n    if (!this.path) { return }\n    const loc = path.join(this.folder(), name)\n    return fs.existsSync(loc) ? loc : null\n  }\n\n  // Etc\n\n  this.name = function () {\n    return this.path ? path.basename(this.path, '.orca') : null\n  }\n\n  this.folder = function () {\n    return this.path ? path.dirname(this.path) : null\n  }\n\n  this.toString = function () {\n    return this.path ? this.name() : 'unsaved'\n  }\n\n  function isDifferent (a, b) {\n    return a.replace(/[^a-zA-Z0-9+]+/gi, '').trim() !== b.replace(/[^a-zA-Z0-9+]+/gi, '').trim()\n  }\n\n  function clean (s) {\n    let c = ''\n    for (let x = 0; x <= s.length; x++) {\n      const char = s.charAt(x)\n      c += !terminal.orca.isAllowed(char) ? '.' : char\n    }\n    return c\n  }\n}\n","'use strict'\n\nexport default function History () {\n  this.index = 0\n  this.frames = []\n  this.host = null\n  this.key = null\n\n  this.bind = function (host, key) {\n    console.log(`History is recording..`)\n    this.host = host\n    this.key = key\n    this.reset()\n  }\n\n  this.reset = function () {\n    this.index = 0\n    this.frames = []\n  }\n\n  this.record = function (data) {\n    if (this.index === this.frames.length) {\n      this.append(data)\n    } else {\n      this.fork(data)\n    }\n    this.trim()\n    this.index = this.frames.length\n  }\n\n  this.undo = function () {\n    if (this.index === 0) { console.warn('History', 'Reached beginning'); return }\n    this.index = clamp(this.index - 1, 0, this.frames.length - 2)\n    this.apply(this.frames[this.index])\n  }\n\n  this.redo = function () {\n    if (this.index + 1 > this.frames.length - 1) { console.warn('History', 'Reached end'); return }\n    this.index = clamp(this.index + 1, 0, this.frames.length - 1)\n    this.apply(this.frames[this.index])\n  }\n\n  this.apply = function (f) {\n    if (!this.host[this.key]) { console.log(`Unknown binding to key ${this.key}`); return }\n    if (!f || f.length !== this.host[this.key].length) { return }\n    this.host[this.key] = this.frames[this.index]\n  }\n\n  this.append = function (data) {\n    if (!data) { return }\n    if (this.frames[this.index - 1] && this.frames[this.index - 1] === data) { return }\n    this.frames.push(data)\n  }\n\n  this.fork = function (data) {\n    this.frames = this.frames.slice(0, this.index + 1)\n    this.append(data)\n  }\n\n  this.trim = function (limit = 30) {\n    if (this.frames.length < limit) { return }\n    this.frames.shift()\n  }\n\n  this.last = function () {\n    return this.frames[this.index - 1]\n  }\n\n  this.length = function () {\n    return this.frames.length\n  }\n\n  function clamp (v, min, max) { return v < min ? min : v > max ? max : v }\n}\n","'use strict'\n\nexport default function Commander (terminal) {\n  this.isActive = false\n  this.query = ''\n  this.history = []\n  this.historyIndex = 0\n\n  // Library\n\n  this.passives = {\n    'find': (val) => { terminal.cursor.find(val) },\n    'select': (val) => { const rect = val.split(';'); terminal.cursor.select(rect[0], rect[1], rect[2], rect[3]) },\n    'inject': (val) => { terminal.source.inject(val, false) },\n    'rot': (val) => { terminal.cursor.rotate(parseInt(val)) },\n    'write': (val) => { const parts = val.split(';'); terminal.cursor.select(parts[1], parts[2], parts[0].length) }\n  }\n\n  this.actives = {\n    // Ports\n    'osc': (val) => { terminal.io.osc.select(parseInt(val)) },\n    'udp': (val) => { terminal.io.udp.select(parseInt(val)) },\n    // Cursor\n    'copy': (val) => { terminal.cursor.copy() },\n    'paste': (val) => { terminal.cursor.paste(true) },\n    'erase': (val) => { terminal.cursor.erase() },\n    // Controls\n    'play': (val) => { terminal.clock.play() },\n    'stop': (val) => { terminal.clock.stop() },\n    'run': (val) => { terminal.run() },\n    // Speed\n    'apm': (val) => { terminal.clock.set(null, parseInt(val)) },\n    'bpm': (val) => { terminal.clock.set(parseInt(val), parseInt(val), true) },\n    'time': (val) => { terminal.clock.setFrame(parseInt(val)) },\n    'rewind': (val) => { terminal.clock.setFrame(terminal.orca.f - parseInt(val)) },\n    'skip': (val) => { terminal.clock.setFrame(terminal.orca.f + parseInt(val)) },\n    // Themeing\n    'color': (val) => { const parts = val.split(';'); terminal.theme.set('b_med', parts[0]); terminal.theme.set('b_inv', parts[1]); terminal.theme.set('b_high', parts[2]) },\n    'graphic': (val) => { terminal.theme.setImage(terminal.source.locate(val + '.jpg')) },\n    // Edit\n    'inject': (val) => { terminal.source.inject(val, true) },\n    'write': (val) => { const parts = val.split(';'); terminal.cursor.select(parts[1], parts[2], parts[0].length); terminal.cursor.writeBlock([parts[0].split('')]) }\n  }\n\n  // Make shorthands\n  for (const id in this.actives) {\n    this.actives[id.substr(0, 2)] = this.actives[id]\n  }\n\n  // Begin\n\n  this.start = function (q = '') {\n    this.isActive = true\n    this.query = q\n    terminal.update()\n  }\n\n  this.stop = function () {\n    this.isActive = false\n    this.query = ''\n    this.historyIndex = this.history.length\n    terminal.update()\n  }\n\n  this.erase = function () {\n    this.query = this.query.slice(0, -1)\n    this.preview()\n  }\n\n  this.write = function (key) {\n    if (key.length !== 1) { return }\n    this.query += key\n    this.preview()\n  }\n\n  this.run = function () {\n    const tool = this.isActive === true ? 'commander' : 'cursor'\n    terminal[tool].trigger()\n    terminal.update()\n  }\n\n  this.trigger = function (msg = this.query) {\n    const cmd = `${msg}`.split(':')[0].toLowerCase()\n    const val = `${msg}`.substr(cmd.length + 1)\n    if (!this.actives[cmd]) { console.warn(`Unknown message: ${msg}`); this.stop(); return }\n    console.info('Commander', msg)\n    this.actives[cmd](val, true)\n    this.history.push(msg)\n    this.historyIndex = this.history.length\n    this.stop()\n  }\n\n  this.preview = function (msg = this.query) {\n    const cmd = `${msg}`.split(':')[0].toLowerCase()\n    const val = `${msg}`.substr(cmd.length + 1)\n    if (!this.passives[cmd]) { return }\n    this.passives[cmd](val, false)\n  }\n\n  // Events\n\n  this.onKeyDown = function (event) {\n    // Reset\n    if ((event.metaKey || event.ctrlKey) && event.key === 'Backspace') {\n      terminal.reset()\n      event.preventDefault()\n      return\n    }\n\n    if (event.keyCode === 191 && (event.metaKey || event.ctrlKey)) { terminal.cursor.comment(); event.preventDefault(); return }\n\n    // Copy/Paste\n    if (event.keyCode === 67 && (event.metaKey || event.ctrlKey)) { terminal.cursor.copy(); event.preventDefault(); return }\n    if (event.keyCode === 88 && (event.metaKey || event.ctrlKey)) { terminal.cursor.cut(); event.preventDefault(); return }\n    if (event.keyCode === 86 && (event.metaKey || event.ctrlKey) && event.shiftKey) { terminal.cursor.paste(true); event.preventDefault(); return }\n    if (event.keyCode === 86 && (event.metaKey || event.ctrlKey)) { terminal.cursor.paste(false); event.preventDefault(); return }\n    if (event.keyCode === 65 && (event.metaKey || event.ctrlKey)) { terminal.cursor.selectAll(); event.preventDefault(); return }\n\n    // Undo/Redo\n    if (event.keyCode === 90 && (event.metaKey || event.ctrlKey) && event.shiftKey) { terminal.history.redo(); event.preventDefault(); return }\n    if (event.keyCode === 90 && (event.metaKey || event.ctrlKey)) { terminal.history.undo(); event.preventDefault(); return }\n\n    if (event.keyCode === 38) { this.onArrowUp(event.shiftKey, (event.metaKey || event.ctrlKey), event.altKey); return }\n    if (event.keyCode === 40) { this.onArrowDown(event.shiftKey, (event.metaKey || event.ctrlKey), event.altKey); return }\n    if (event.keyCode === 37) { this.onArrowLeft(event.shiftKey, (event.metaKey || event.ctrlKey), event.altKey); return }\n    if (event.keyCode === 39) { this.onArrowRight(event.shiftKey, (event.metaKey || event.ctrlKey), event.altKey); return }\n\n    if (event.keyCode === 9) { terminal.toggleHardmode(); event.preventDefault(); return }\n\n    if (event.metaKey) { return }\n    if (event.ctrlKey) { return }\n\n    if (event.key === ' ' && terminal.cursor.mode === 0) { terminal.clock.togglePlay(); event.preventDefault(); return }\n    if (event.key === 'Escape') { terminal.toggleGuide(false); terminal.commander.stop(); terminal.clear(); terminal.isPaused = false; terminal.cursor.reset(); return }\n    if (event.key === 'Backspace') { terminal[this.isActive === true ? 'commander' : 'cursor'].erase(); event.preventDefault(); return }\n\n    if (event.key === ']') { terminal.modGrid(1, 0); event.preventDefault(); return }\n    if (event.key === '[') { terminal.modGrid(-1, 0); event.preventDefault(); return }\n    if (event.key === '}') { terminal.modGrid(0, 1); event.preventDefault(); return }\n    if (event.key === '{') { terminal.modGrid(0, -1); event.preventDefault(); return }\n    if (event.key === '>') { terminal.clock.mod(1); event.preventDefault(); return }\n    if (event.key === '<') { terminal.clock.mod(-1); event.preventDefault(); return }\n\n    // Route key to Operator or Cursor\n    terminal[this.isActive === true ? 'commander' : 'cursor'].write(event.key)\n  }\n\n  this.onKeyUp = function (event) {\n    terminal.update()\n  }\n\n  this.onArrowUp = function (mod = false, skip = false, drag = false) {\n    // Navigate History\n    if (this.isActive === true) {\n      this.historyIndex -= this.historyIndex > 0 ? 1 : 0\n      this.start(this.history[this.historyIndex])\n      return\n    }\n    const leap = skip ? terminal.grid.h : 1\n    terminal.toggleGuide(false)\n    if (drag) {\n      terminal.cursor.drag(0, leap)\n    } else if (mod) {\n      terminal.cursor.scale(0, leap)\n    } else {\n      terminal.cursor.move(0, leap)\n    }\n  }\n\n  this.onArrowDown = function (mod = false, skip = false, drag = false) {\n    // Navigate History\n    if (this.isActive === true) {\n      this.historyIndex += this.historyIndex < this.history.length ? 1 : 0\n      this.start(this.history[this.historyIndex])\n      return\n    }\n    const leap = skip ? terminal.grid.h : 1\n    terminal.toggleGuide(false)\n    if (drag) {\n      terminal.cursor.drag(0, -leap)\n    } else if (mod) {\n      terminal.cursor.scale(0, -leap)\n    } else {\n      terminal.cursor.move(0, -leap)\n    }\n  }\n\n  this.onArrowLeft = function (mod = false, skip = false, drag = false) {\n    const leap = skip ? terminal.grid.w : 1\n    terminal.toggleGuide(false)\n    if (drag) {\n      terminal.cursor.drag(-leap, 0)\n    } else if (mod) {\n      terminal.cursor.scale(-leap, 0)\n    } else {\n      terminal.cursor.move(-leap, 0)\n    }\n  }\n\n  this.onArrowRight = function (mod = false, skip = false, drag = false) {\n    const leap = skip ? terminal.grid.w : 1\n    terminal.toggleGuide(false)\n    if (drag) {\n      terminal.cursor.drag(leap, 0)\n    } else if (mod) {\n      terminal.cursor.scale(leap, 0)\n    } else {\n      terminal.cursor.move(leap, 0)\n    }\n  }\n\n  // Events\n\n  document.onkeydown = (event) => { this.onKeyDown(event) }\n  document.onkeyup = (event) => { this.onKeyUp(event) }\n\n  // UI\n\n  this.toString = function () {\n    return `${this.query}`\n  }\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","'use strict'\n\nexport default function Clock (terminal) {\n  const path = require('path')\n\n  this.isPaused = true\n  this.timer = null\n  this.isPuppet = false\n\n  this.speed = { value: 120, target: 120 }\n\n  this.start = function () {\n    this.setTimer(120)\n    this.play()\n  }\n\n  this.touch = function () {\n    this.stop()\n    terminal.run()\n  }\n\n  this.run = function () {\n    if (this.speed.target === this.speed.value) { return }\n    this.set(this.speed.value + (this.speed.value < this.speed.target ? 1 : -1), null, true)\n  }\n\n  this.set = function (value, target = null, setTimer = false) {\n    if (value) { this.speed.value = clamp(value, 60, 300) }\n    if (target) { this.speed.target = clamp(target, 60, 300) }\n    if (setTimer === true) { this.setTimer(this.speed.value) }\n  }\n\n  this.mod = function (mod = 0, animate = false) {\n    if (animate === true) {\n      this.set(null, this.speed.target + mod)\n    } else {\n      this.set(this.speed.value + mod, this.speed.value + mod, true)\n      terminal.update()\n    }\n  }\n\n  // Controls\n\n  this.togglePlay = function () {\n    // If in insert mode, insert space\n    if (terminal.cursor.mode === 1) {\n      terminal.cursor.move(1, 0)\n      return\n    }\n    if (this.isPaused === true) {\n      this.play()\n    } else {\n      this.stop()\n    }\n  }\n\n  this.play = function () {\n    if (!this.isPaused) { console.warn('Already playing'); return }\n    console.log('Clock', 'Play')\n    this.isPaused = false\n    if (this.isPuppet) { return console.warn('External Midi control') }\n    this.set(this.speed.target, this.speed.target, true)\n  }\n\n  this.stop = function () {\n    if (this.isPaused) { console.warn('Already stopped'); return }\n    console.log('Clock', 'Stop')\n    terminal.io.midi.silence()\n    this.isPaused = true\n    if (this.isPuppet) { return console.warn('External Midi control') }\n    this.clearTimer()\n  }\n\n  // External Clock\n\n  const pulse = { count: 0, last: null, timer: null }\n\n  this.tap = function () {\n    pulse.last = performance.now()\n    if (!this.isPuppet) {\n      console.log('Clock', 'Puppeteering starts..')\n      this.isPuppet = true\n      this.clearTimer()\n      pulse.timer = setInterval(() => {\n        if (performance.now() - pulse.last < 2000) { return }\n        this.untap()\n      }, 2000)\n    }\n    if (this.isPaused) { return }\n    pulse.count = pulse.count + 1\n    if (pulse.count % 6 === 0) {\n      terminal.run()\n      pulse.count = 0\n    }\n  }\n\n  this.untap = function () {\n    console.log('Clock', 'Puppeteering stops..')\n    clearInterval(pulse.timer)\n    this.isPuppet = false\n    pulse.count = 1\n    pulse.last = null\n    this.setTimer(this.speed.value)\n  }\n\n  // Timer\n\n  // this.setTimer = function (bpm) {\n  //   console.log('Clock', 'New Timer ' + bpm + 'bpm')\n  //   this.clearTimer()\n  //   this.timer = new Worker(`${__dirname}/scripts/timer.js`)\n  //   this.timer.postMessage((60000 / bpm) / 4)\n  //   this.timer.onmessage = (event) => { terminal.run() }\n  // }\n\n  this.setTimer = function (bpm) {\n    this.clearTimer()\n    this.timer = setInterval(() => { terminal.run(); }, (60000 / bpm) / 4)\n  }\n\n  this.clearTimer = function () {\n    if (this.timer) {\n      //this.timer.terminate()\n    }\n    this.timer = null\n  }\n\n  this.setFrame = function (f) {\n    if (isNaN(f)) { return }\n    terminal.orca.f = clamp(f, 0, 9999999)\n  }\n\n  this.resetFrame = function () {\n    terminal.orca.f = 0\n  }\n\n  // UI\n\n  this.toString = function () {\n    const diff = this.speed.target - this.speed.value\n    const _offset = Math.abs(diff) > 5 ? (diff > 0 ? `+${diff}` : diff) : ''\n    const _message = this.isPuppet ? 'midi' : `${this.speed.value}${_offset}`\n    const _beat = diff === 0 && terminal.orca.f % 4 === 0 ? '*' : ''\n    return `${_message}${_beat}`\n  }\n\n  function clamp (v, min, max) { return v < min ? min : v > max ? max : v }\n}\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","'use strict'\n\nexport default function Theme (_default) {\n  const fs = require('fs')\n  const url = require('url')\n  const themer = this\n\n  this.active = _default\n\n  this.el = document.createElement('style')\n  this.el.type = 'text/css'\n\n  this.install = function (host = document.body, callback) {\n    host.appendChild(this.el)\n    this.callback = callback\n  }\n\n  this.start = function () {\n    console.log('Theme', 'Starting..')\n    if (isJson(localStorage.theme)) {\n      const storage = JSON.parse(localStorage.theme)\n      if (validate(storage)) {\n        console.log('Theme', 'Loading localStorage..')\n        this.load(storage)\n        return\n      }\n    }\n    this.load(_default)\n  }\n\n  this.load = function (data) {\n    const theme = parse(data)\n    if (!validate(theme)) { console.warn('Theme', 'Not a theme', theme); return }\n    console.log('Theme', `Loaded theme!`)\n    this.el.innerHTML = `:root { --background: ${theme.background}; --f_high: ${theme.f_high}; --f_med: ${theme.f_med}; --f_low: ${theme.f_low}; --f_inv: ${theme.f_inv}; --b_high: ${theme.b_high}; --b_med: ${theme.b_med}; --b_low: ${theme.b_low}; --b_inv: ${theme.b_inv}; }`\n    localStorage.setItem('theme', JSON.stringify(theme))\n    this.active = theme\n    if (this.callback) {\n      this.callback()\n    }\n  }\n\n  this.reset = function () {\n    this.load(_default)\n  }\n\n  this.setImage = function (path) {\n    document.body.style.backgroundImage = path && fs.existsSync(path) && document.body.style.backgroundImage !== `url(${url.pathToFileURL(path)})` ? `url(${url.pathToFileURL(path)})` : ''\n  }\n\n  this.set = function (key, value) {\n    if (!this.active[key]) { console.warn('Theme', 'Unknown key ' + key); return }\n    if (!isColor(value)) { console.warn('Theme', 'Not a color ' + value); return }\n    this.active[key] = value\n  }\n\n  function parse (any) {\n    if (any && any.background) { return any } else if (any && any.data) { return any.data } else if (any && isJson(any)) { return JSON.parse(any) } else if (any && isHtml(any)) { return extract(any) }\n    return null\n  }\n\n  // Drag\n\n  this.drag = function (e) {\n    e.stopPropagation()\n    e.preventDefault()\n    e.dataTransfer.dropEffect = 'copy'\n  }\n\n  this.drop = function (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    const file = e.dataTransfer.files[0]\n    if (!file || !file.name) { console.warn('Theme', 'Unnamed file.'); return }\n    if (file.name.indexOf('.thm') < 0 && file.name.indexOf('.svg') < 0) { console.warn('Theme', 'Skipped, not a theme'); return }\n    const reader = new FileReader()\n    reader.onload = function (e) {\n      themer.load(e.target.result)\n    }\n    reader.readAsText(file)\n  }\n\n  this.open = function () {\n  }\n\n  window.addEventListener('dragover', this.drag)\n  window.addEventListener('drop', this.drop)\n\n  // Helpers\n\n  function validate (json) {\n    if (!json) { return false }\n    if (!json.background) { return false }\n    if (!json.f_high) { return false }\n    if (!json.f_med) { return false }\n    if (!json.f_low) { return false }\n    if (!json.f_inv) { return false }\n    if (!json.b_high) { return false }\n    if (!json.b_med) { return false }\n    if (!json.b_low) { return false }\n    if (!json.b_inv) { return false }\n    return true\n  }\n\n  function extract (text) {\n    const svg = new DOMParser().parseFromString(text, 'text/xml')\n    try {\n      return {\n        'background': svg.getElementById('background').getAttribute('fill'),\n        'f_high': svg.getElementById('f_high').getAttribute('fill'),\n        'f_med': svg.getElementById('f_med').getAttribute('fill'),\n        'f_low': svg.getElementById('f_low').getAttribute('fill'),\n        'f_inv': svg.getElementById('f_inv').getAttribute('fill'),\n        'b_high': svg.getElementById('b_high').getAttribute('fill'),\n        'b_med': svg.getElementById('b_med').getAttribute('fill'),\n        'b_low': svg.getElementById('b_low').getAttribute('fill'),\n        'b_inv': svg.getElementById('b_inv').getAttribute('fill')\n      }\n    } catch (err) {\n      console.warn('Theme', 'Incomplete SVG Theme', err)\n    }\n  }\n\n  function isJson (text) {\n    try { JSON.parse(text); return true } catch (error) { return false }\n  }\n\n  function isColor (str) {\n    return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test('#' + str)\n  }\n\n  function isHtml (text) {\n    try { new DOMParser().parseFromString(text, 'text/xml'); return true } catch (error) { return false }\n  }\n}\n","'use strict'\n\nexport default function Controller () {\n  const fs = require('fs')\n\n  this.menu = { default: {} }\n  this.mode = 'default'\n\n\n  this.start = function () {\n  }\n\n  this.add = function (mode, cat, label, fn, accelerator) {\n    if (!this.menu[mode]) { this.menu[mode] = {} }\n    if (!this.menu[mode][cat]) { this.menu[mode][cat] = {} }\n    this.menu[mode][cat][label] = { fn: fn, accelerator: accelerator }\n  }\n\n  this.addRole = function (mode, cat, label) {\n    if (!this.menu[mode]) { this.menu[mode] = {} }\n    if (!this.menu[mode][cat]) { this.menu[mode][cat] = {} }\n    this.menu[mode][cat][label] = { role: label }\n  }\n\n  this.addSpacer = function (mode, cat, label, type = 'separator') {\n    if (!this.menu[mode]) { this.menu[mode] = {} }\n    if (!this.menu[mode][cat]) { this.menu[mode][cat] = {} }\n    this.menu[mode][cat][label] = { type: type }\n  }\n\n  this.clearCat = function (mode, cat) {\n    if (this.menu[mode]) { this.menu[mode][cat] = {} }\n  }\n\n  this.set = function (mode = 'default') {\n    this.mode = mode\n    this.commit()\n  }\n\n  this.format = function () {\n    const f = []\n    const m = this.menu[this.mode]\n    for (const cat in m) {\n      const submenu = []\n      for (const name in m[cat]) {\n        const option = m[cat][name]\n        if (option.role) {\n          submenu.push({ role: option.role })\n        } else if (option.type) {\n          submenu.push({ type: option.type })\n        } else {\n          submenu.push({ label: name, accelerator: option.accelerator, click: option.fn })\n        }\n      }\n      f.push({ label: cat, submenu: submenu })\n    }\n    return f\n  }\n\n  this.commit = function () {\n    console.log('Controller', 'Changing..')\n  }\n\n  this.accelerator = function (key, menu) {\n    const acc = { basic: null, ctrl: null }\n    for (cat in menu) {\n      const options = menu[cat]\n      for (const id in options.submenu) {\n        const option = options.submenu[id]; if (option.role) { continue }\n        acc.basic = (option.accelerator.toLowerCase() === key.toLowerCase()) ? option.label.toUpperCase().replace('TOGGLE ', '').substr(0, 8).trim() : acc.basic\n        acc.ctrl = (option.accelerator.toLowerCase() === ('CmdOrCtrl+' + key).toLowerCase()) ? option.label.toUpperCase().replace('TOGGLE ', '').substr(0, 8).trim() : acc.ctrl\n      }\n    }\n    return acc\n  }\n\n  this.docs = function () {\n    // TODO\n    console.log(this.menu.default)\n  }\n}\n","'use strict'\n\nimport Orca from '../../core/orca.js'\nimport IO from '../../core/io.js'\nimport Cursor from './cursor.js'\nimport Source from './source.js'\nimport History from './history.js'\nimport Commander from './commander.js'\nimport Clock from './clock.js'\nimport Theme from './lib/theme.js'\nimport Controller from './lib/controller.js'\nimport library from '../../core/library.js'\n\nexport default function Terminal () {\n  this.version = 132\n  this.library = library\n\n  this.orca = new Orca(this)\n  this.io = new IO(this)\n  this.cursor = new Cursor(this)\n  this.source = new Source(this)\n  this.commander = new Commander(this)\n  this.clock = new Clock(this)\n  this.history = new History()\n  this.controller = new Controller()\n\n  // Themes\n  this.theme = new Theme({ background: '#000000', f_high: '#ffffff', f_med: '#777777', f_low: '#444444', f_inv: '#000000', b_high: '#eeeeee', b_med: '#72dec2', b_low: '#444444', b_inv: '#ffb545' })\n\n  this.el = document.createElement('canvas')\n  this.context = this.el.getContext('2d')\n\n  // Settings\n  this.grid = { w: 8, h: 8 }\n  this.tile = {\n    w: +localStorage.getItem('tilew') || 10,\n    h: +localStorage.getItem('tileh') || 15\n  }\n  this.scale = window.devicePixelRatio\n  this.hardmode = true\n  this.guide = false\n\n  this.install = function (host) {\n    host.appendChild(this.el)\n    this.theme.install(host)\n  }\n\n  this.start = function () {\n    this.theme.start()\n    this.io.start()\n    this.source.start()\n    this.history.bind(this.orca, 's')\n    this.history.record(this.orca.s)\n    this.clock.start()\n    this.update()\n    this.el.className = 'ready'\n\n    this.toggleGuide(this.reqGuide() === true)\n  }\n\n  this.run = function () {\n    this.io.clear()\n    this.clock.run()\n    this.source.run()\n    this.orca.run()\n    this.io.run()\n    this.update()\n  }\n\n  this.update = function () {\n    if (document.hidden === true) { return }\n    this.clear()\n    this.ports = this.findPorts()\n    this.drawProgram()\n    this.drawInterface()\n    this.drawGuide()\n  }\n\n  this.reset = function () {\n    this.theme.reset()\n  }\n\n  this.setGrid = function (w, h) {\n    this.grid.w = w\n    this.grid.h = h\n    this.update()\n  }\n\n  this.toggleRetina = function () {\n    this.scale = this.scale === 1 ? window.devicePixelRatio : 1\n    console.log('Terminal', `Pixel resolution: ${this.scale}`)\n    this.resize(true)\n  }\n\n  this.toggleHardmode = function () {\n    this.hardmode = this.hardmode !== true\n    console.log('Terminal', `Hardmode: ${this.hardmode}`)\n    this.update()\n  }\n\n  this.toggleGuide = function (force = null) {\n    const display = force !== null ? force : this.guide !== true\n    if (display === this.guide) { return }\n    console.log('Terminal', `Toggle Guide: ${display}`)\n    this.guide = display\n    this.update()\n  }\n\n  this.reqGuide = function () {\n    const session = this.source.recall('session')\n    console.log('Terminal', 'Session #' + session)\n    if (!session || parseInt(session) < 20) { return true }\n    return false\n  }\n\n  this.modGrid = function (x = 0, y = 0) {\n    const w = clamp(this.grid.w + x, 4, 16)\n    const h = clamp(this.grid.h + y, 4, 16)\n    this.setGrid(w, h)\n  }\n\n  this.modZoom = function (mod = 0, reset = false) {\n    this.tile = {\n      w: reset ? 10 : this.tile.w * (mod + 1),\n      h: reset ? 15 : this.tile.h * (mod + 1)\n    }\n    localStorage.setItem('tilew', this.tile.w)\n    localStorage.setItem('tileh', this.tile.h)\n    this.resize(true)\n  }\n\n  //\n\n  this.isCursor = function (x, y) {\n    return x === this.cursor.x && y === this.cursor.y\n  }\n\n  this.isSelection = function (x, y) {\n    return !!(x >= this.cursor.x && x < this.cursor.x + this.cursor.w && y >= this.cursor.y && y < this.cursor.y + this.cursor.h)\n  }\n\n  this.isMarker = function (x, y) {\n    return x % this.grid.w === 0 && y % this.grid.h === 0\n  }\n\n  this.isNear = function (x, y) {\n    return x > (parseInt(this.cursor.x / this.grid.w) * this.grid.w) - 1 && x <= ((1 + parseInt(this.cursor.x / this.grid.w)) * this.grid.w) && y > (parseInt(this.cursor.y / this.grid.h) * this.grid.h) - 1 && y <= ((1 + parseInt(this.cursor.y / this.grid.h)) * this.grid.h)\n  }\n\n  this.isAligned = function (x, y) {\n    return x === this.cursor.x || y === this.cursor.y\n  }\n\n  this.isEdge = function (x, y) {\n    return x === 0 || y === 0 || x === this.orca.w - 1 || y === this.orca.h - 1\n  }\n\n  this.isLocals = function (x, y) {\n    return this.isNear(x, y) === true && (x % (this.grid.w / 4) === 0 && y % (this.grid.h / 4) === 0) === true\n  }\n\n  this.portAt = function (x, y) {\n    return this.ports[this.orca.indexAt(x, y)]\n  }\n\n  this.findPorts = function () {\n    const a = new Array((this.orca.w * this.orca.h) - 1)\n    for (const id in this.orca.runtime) {\n      const operator = this.orca.runtime[id]\n      if (this.orca.lockAt(operator.x, operator.y)) { continue }\n      const ports = operator.getPorts()\n      for (const i in ports) {\n        const port = ports[i]\n        const index = this.orca.indexAt(port[0], port[1])\n        a[index] = port\n      }\n    }\n    return a\n  }\n\n  // Interface\n\n  this.makeGlyph = function (x, y) {\n    const g = this.orca.glyphAt(x, y)\n    if (g !== '.') { return g }\n    if (this.isCursor(x, y)) { return this.isPaused ? '~' : '@' }\n    if (this.isMarker(x, y)) { return '+' }\n    return g\n  }\n\n  this.makeStyle = function (x, y, glyph, selection) {\n    const isLocked = this.orca.lockAt(x, y)\n    const port = this.ports[this.orca.indexAt(x, y)]\n    if (this.isSelection(x, y)) { return 4 }\n    if (!port && glyph === '.' && isLocked === false && this.hardmode === true) { return this.isLocals(x, y) === true ? 9 : 7 }\n    if (selection === glyph && isLocked === false && selection !== '.') { return 6 }\n    if (glyph === '*' && isLocked === false) { return 6 }\n    if (port) { return port[2] }\n    if (isLocked === true) { return 5 }\n    return 9\n  }\n\n  this.makeTheme = function (type) {\n    // Operator\n    if (type === 0) { return { bg: this.theme.active.b_med, fg: this.theme.active.f_low } }\n    // Haste\n    if (type === 1) { return { fg: this.theme.active.b_med } }\n    // Input\n    if (type === 2) { return { fg: this.theme.active.b_high } }\n    // Output\n    if (type === 3) { return { bg: this.theme.active.b_high, fg: this.theme.active.f_low } }\n    // Selected\n    if (type === 4) { return { bg: this.theme.active.b_inv, fg: this.theme.active.f_inv } }\n    // Locked\n    if (type === 5) { return { fg: this.theme.active.f_med } }\n    // Reader\n    if (type === 6) { return { fg: this.theme.active.b_inv } }\n    // Invisible\n    if (type === 7) { return {} }\n    // Reader\n    if (type === 8) { return { bg: this.theme.active.b_low, fg: this.theme.active.f_high } }\n    // Reader+Background\n    if (type === 10) { return { bg: this.theme.active.background, fg: this.theme.active.f_high } }\n    // Default\n    return { fg: this.theme.active.f_low }\n  }\n\n  // Canvas\n\n  this.clear = function () {\n    this.context.clearRect(0, 0, this.el.width, this.el.height)\n  }\n\n  this.drawProgram = function () {\n    const selection = this.cursor.read()\n    for (let y = 0; y < this.orca.h; y++) {\n      for (let x = 0; x < this.orca.w; x++) {\n        const glyph = this.makeGlyph(x, y)\n        const style = this.makeStyle(x, y, glyph, selection)\n        this.drawSprite(x, y, glyph, style)\n      }\n    }\n  }\n\n  this.drawInterface = function () {\n    const col = this.grid.w\n    const variables = Object.keys(this.orca.variables).join('')\n    const col1 = this.orca.h\n    const col2 = this.orca.h + 1\n\n    if (this.commander.isActive === true) {\n      this.write(`${this.commander.query}${this.orca.f % 2 === 0 ? '_' : ''}`, col * 0, this.orca.h + 1, this.grid.w * 2)\n    } else {\n      this.write(`${this.cursor.x},${this.cursor.y}${this.cursor.mode === 1 ? '+' : ''}`, col * 0, this.orca.h + 1, this.grid.w, this.cursor.mode === 1 ? 1 : 2)\n      this.write(`${this.cursor.w}:${this.cursor.h}`, col * 1, this.orca.h + 1, this.grid.w)\n      this.write(`${this.cursor.inspect()}`, col * 2, this.orca.h + 1, this.grid.w)\n      this.write(`${this.orca.f}f${this.isPaused ? '*' : ''}`, col * 3, this.orca.h + 1, this.grid.w)\n    }\n\n    this.write(`${this.orca.w}x${this.orca.h}`, col * 0, this.orca.h, this.grid.w)\n    this.write(`${this.grid.w}/${this.grid.h}${this.tile.w !== 10 ? ' ' + (this.tile.w / 10).toFixed(1) : ''}`, col * 1, this.orca.h, this.grid.w)\n    //this.write(`${this.source}`, col * 2, this.orca.h, this.grid.w, this.source.queue.length > terminal.orca.f ? 3 : 2)\n    this.write(`${this.clock}`, col * 3, this.orca.h, this.grid.w, this.io.midi.inputIndex > -1 ? 3 : 2)\n\n    if (this.orca.f < 15) {\n      this.write(`${this.io.midi}`, col * 4, this.orca.h, this.grid.w * 2)\n      this.write(`Version ${this.version}`, col * 4, this.orca.h + 1, this.grid.w * 2)\n    } else {\n      this.write(`${this.io.inspect(this.grid.w)}`, col * 4, this.orca.h, this.grid.w)\n      this.write(`${display(variables, this.orca.f, this.grid.w)}`, col * 4, this.orca.h + 1, this.grid.w)\n    }\n  }\n\n  this.drawGuide = function () {\n    if (this.guide !== true) { return }\n    const operators = Object.keys(this.library).filter((val) => { return isNaN(val) })\n    for (const id in operators) {\n      const key = operators[id]\n      const oper = new this.library[key]()\n      const text = oper.info\n      const frame = this.orca.h - 4\n      const x = (Math.floor(parseInt(id) / frame) * 32) + 2\n      const y = (parseInt(id) % frame) + 2\n      this.write(key, x, y, 99, 3)\n      this.write(text, x + 2, y, 99, 10)\n    }\n  }\n\n  this.drawSprite = function (x, y, g, type) {\n    const theme = this.makeTheme(type)\n    if (theme.bg) {\n      const bgrect = { x: x * this.tile.w * this.scale, y: (y) * this.tile.h * this.scale, w: this.tile.w * this.scale, h: this.tile.h * this.scale }\n      this.context.fillStyle = theme.bg\n      this.context.fillRect(bgrect.x, bgrect.y, bgrect.w, bgrect.h)\n    }\n    if (theme.fg) {\n      const fgrect = { x: (x + 0.5) * this.tile.w * this.scale, y: (y + 1) * this.tile.h * this.scale, w: this.tile.w * this.scale, h: this.tile.h * this.scale }\n      this.context.fillStyle = theme.fg\n      this.context.fillText(g, fgrect.x, fgrect.y)\n    }\n  }\n\n  this.write = function (text, offsetX, offsetY, limit = 50, type = 2) {\n    let x = 0\n    while (x < text.length && x < limit - 1) {\n      this.drawSprite(offsetX + x, offsetY, text.substr(x, 1), type)\n      x += 1\n    }\n  }\n\n  // Resize tools\n\n  this.fit = function () {\n    // const size = { w: (this.orca.w * this.tile.w) + 60, h: (this.orca.h * this.tile.h) + 60 + (2 * this.tile.h) }\n    // const win = require('electron').remote.getCurrentWindow()\n    // const winSize = win.getSize()\n    // const current = { w: winSize[0], h: winSize[1] }\n    // if (current.w === size.w && current.h === size.h) { console.warn('Terminal', 'No resize required.'); return }\n    // console.log('Source', `Fit terminal for ${this.orca.w}x${this.orca.h}(${size.w}x${size.h})`)\n    // win.setSize(parseInt(size.w), parseInt(size.h), false)\n    // this.resize()\n  }\n\n  this.resize = function (force = false) {\n    const size = { w: window.innerWidth - 60, h: window.innerHeight - (60 + this.tile.h * 2) }\n    const tiles = { w: Math.ceil(size.w / this.tile.w), h: Math.ceil(size.h / this.tile.h) }\n\n    if (this.orca.w === tiles.w && this.orca.h === tiles.h && force === false) { return }\n\n    // Limit Tiles to Bounds\n    const bounds = this.orca.bounds()\n    if (tiles.w <= bounds.w) { tiles.w = bounds.w + 1 }\n    if (tiles.h <= bounds.h) { tiles.h = bounds.h + 1 }\n    this.crop(tiles.w, tiles.h)\n\n    // Keep cursor in bounds\n    if (this.cursor.x >= tiles.w) { this.cursor.x = tiles.w - 1 }\n    if (this.cursor.y >= tiles.h) { this.cursor.y = tiles.h - 1 }\n\n    console.log(`Resized to: ${tiles.w}x${tiles.h}`)\n\n    this.el.width = this.tile.w * this.orca.w * this.scale\n    this.el.height = (this.tile.h + (this.tile.h / 5)) * this.orca.h * this.scale\n    this.el.style.width = `${Math.ceil(this.tile.w * this.orca.w)}px`\n    this.el.style.height = `${Math.ceil((this.tile.h + (this.tile.h / 5)) * this.orca.h)}px`\n\n    this.context.textBaseline = 'bottom'\n    this.context.textAlign = 'center'\n    this.context.font = `${this.tile.h * 0.75 * this.scale}px input_mono_medium`\n\n    this.update()\n  }\n\n  this.crop = function (w, h) {\n    let block = `${this.orca}`\n\n    if (h > this.orca.h) {\n      block = `${block}${`\\n${'.'.repeat(this.orca.w)}`.repeat((h - this.orca.h))}`\n    } else if (h < this.orca.h) {\n      block = `${block}`.split('\\n').slice(0, (h - this.orca.h)).join('\\n').trim()\n    }\n\n    if (w > this.orca.w) {\n      block = `${block}`.split('\\n').map((val) => { return val + ('.').repeat((w - this.orca.w)) }).join('\\n').trim()\n    } else if (w < this.orca.w) {\n      block = `${block}`.split('\\n').map((val) => { return val.substr(0, val.length + (w - this.orca.w)) }).join('\\n').trim()\n    }\n\n    this.history.reset()\n    this.orca.load(w, h, block, this.orca.f)\n  }\n\n  // Docs\n\n  this.docs = function () {\n    let html = ''\n    const operators = Object.keys(library).filter((val) => { return isNaN(val) })\n    for (const id in operators) {\n      const oper = new this.library[operators[id]]()\n      const ports = oper.ports.input ? Object.keys(oper.ports.input).reduce((acc, key, val) => { return acc + ' ' + key }, '') : ''\n      html += `- \\`${oper.glyph.toUpperCase()}\\` **${oper.name}**${ports !== '' ? '(' + ports.trim() + ')' : ''}: ${oper.info}.\\n`\n    }\n    return html\n  }\n  // Events\n\n  window.addEventListener('dragover', (e) => {\n    e.stopPropagation()\n    e.preventDefault()\n    e.dataTransfer.dropEffect = 'copy'\n  })\n\n  window.addEventListener('drop', (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n\n    const file = e.dataTransfer.files[0]\n    const path = file.path ? file.path : file.name\n\n    if (!path || path.indexOf('.orca') < 0) { console.log('Orca', 'Not a orca file'); return }\n\n    terminal.source.read(path)\n  })\n\n  window.onresize = (event) => {\n    //terminal.resize()\n  }\n\n  // Helpers\n\n  function display (str, f, max) { return str.length < max ? str : str.slice(f % str.length) + str.substr(0, f % str.length) }\n  function clamp (v, min, max) { return v < min ? min : v > max ? max : v }\n}\n","const Terminal = require('./orca/sources/scripts/terminal').default\nconsole.log(Terminal)\nconst terminal = new Terminal()\n\nwindow.onload = function () {\n\n  terminal.install(document.getElementById('orcaShell'))\n  terminal.start()\n\n  function open (url) {\n    window.fetch(url).then(resp => resp.text()).then(text => {\n      const lines = text.split('\\n')\n      const w = lines[0].length\n      const h = lines.length\n      const s = lines.join('\\n').trim()\n      let o = terminal.orca.load(w, h, s)\n      terminal.load(o)\n    })\n  }\n\n  let load = document.getElementById('loadButton')\n  load.onclick = function () {\n    let url = window.prompt('enter orca url')\n    if (!url || !url.length) return\n    open(url)\n  }\n  // check the hash\n  let url = window.location.hash\n  if (!url.length) return\n  url = decodeURIComponent(url.substring(1))\n  open(url)\n\n}\n"]}